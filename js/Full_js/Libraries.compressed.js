var Prototype={Version:"1.5.1.1",Browser:{IE:!!(window.attachEvent&&!window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")==-1},BrowserFeatures:{XPath:!!document.evaluate,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:(document.createElement("div").__proto__!==document.createElement("form").__proto__)},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(x){return x;}};var Class={create:function(){return function(){this.initialize.apply(this,arguments);};}};var Abstract=new Object();Object.extend=function(_2,_3){for(var _4 in _3){_2[_4]=_3[_4];}return _2;};Object.extend(Object,{inspect:function(_5){try{if(_5===undefined){return "undefined";}if(_5===null){return "null";}return _5.inspect?_5.inspect():_5.toString();}catch(e){if(e instanceof RangeError){return "...";}throw e;}},toJSON:function(_6){var _7=typeof _6;switch(_7){case "undefined":case "function":case "unknown":return;case "boolean":return _6.toString();}if(_6===null){return "null";}if(_6.toJSON){return _6.toJSON();}if(_6.ownerDocument===document){return;}var _8=[];for(var _9 in _6){var _a=Object.toJSON(_6[_9]);if(_a!==undefined){_8.push(_9.toJSON()+": "+_a);}}return "{"+_8.join(", ")+"}";},keys:function(_b){var _c=[];for(var _d in _b){_c.push(_d);}return _c;},values:function(_e){var _f=[];for(var _10 in _e){_f.push(_e[_10]);}return _f;},clone:function(_11){return Object.extend({},_11);}});Function.prototype.bind=function(){var _12=this,_13=$A(arguments),_14=_13.shift();return function(){return _12.apply(_14,_13.concat($A(arguments)));};};Function.prototype.bindAsEventListener=function(_15){var _16=this,_17=$A(arguments),_15=_17.shift();return function(_18){return _16.apply(_15,[_18||window.event].concat(_17));};};Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16);},succ:function(){return this+1;},times:function(_19){$R(0,this,true).each(_19);return this;},toPaddedString:function(_1a,_1b){var _1c=this.toString(_1b||10);return "0".times(_1a-_1c.length)+_1c;},toJSON:function(){return isFinite(this)?this.toString():"null";}});Date.prototype.toJSON=function(){return "\""+this.getFullYear()+"-"+(this.getMonth()+1).toPaddedString(2)+"-"+this.getDate().toPaddedString(2)+"T"+this.getHours().toPaddedString(2)+":"+this.getMinutes().toPaddedString(2)+":"+this.getSeconds().toPaddedString(2)+"\"";};var Try={these:function(){var _1d;for(var i=0,_1f=arguments.length;i<_1f;i++){var _20=arguments[i];try{_1d=_20();break;}catch(e){}}return _1d;}};var PeriodicalExecuter=Class.create();PeriodicalExecuter.prototype={initialize:function(_21,_22){this.callback=_21;this.frequency=_22;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},stop:function(){if(!this.timer){return;}clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.callback(this);}finally{this.currentlyExecuting=false;}}}};Object.extend(String,{interpret:function(_23){return _23==null?"":String(_23);},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,{gsub:function(_24,_25){var _26="",_27=this,_28;_25=arguments.callee.prepareReplacement(_25);while(_27.length>0){if(_28=_27.match(_24)){_26+=_27.slice(0,_28.index);_26+=String.interpret(_25(_28));_27=_27.slice(_28.index+_28[0].length);}else{_26+=_27,_27="";}}return _26;},sub:function(_29,_2a,_2b){_2a=this.gsub.prepareReplacement(_2a);_2b=_2b===undefined?1:_2b;return this.gsub(_29,function(_2c){if(--_2b<0){return _2c[0];}return _2a(_2c);});},scan:function(_2d,_2e){this.gsub(_2d,_2e);return this;},truncate:function(_2f,_30){_2f=_2f||30;_30=_30===undefined?"...":_30;return this.length>_2f?this.slice(0,_2f-_30.length)+_30:this;},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"");},extractScripts:function(){var _31=new RegExp(Prototype.ScriptFragment,"img");var _32=new RegExp(Prototype.ScriptFragment,"im");return (this.match(_31)||[]).map(function(_33){return (_33.match(_32)||["",""])[1];});},evalScripts:function(){return this.extractScripts().map(function(_34){return eval(_34);});},escapeHTML:function(){var _35=arguments.callee;_35.text.data=this;return _35.div.innerHTML;},unescapeHTML:function(){var div=document.createElement("div");div.innerHTML=this.stripTags();return div.childNodes[0]?(div.childNodes.length>1?$A(div.childNodes).inject("",function(_37,_38){return _37+_38.nodeValue;}):div.childNodes[0].nodeValue):"";},toQueryParams:function(_39){var _3a=this.strip().match(/([^?#]*)(#.*)?$/);if(!_3a){return {};}return _3a[1].split(_39||"&").inject({},function(_3b,_3c){if((_3c=_3c.split("="))[0]){var key=decodeURIComponent(_3c.shift());var _3e=_3c.length>1?_3c.join("="):_3c[0];if(_3e!=undefined){_3e=decodeURIComponent(_3e);}if(key in _3b){if(_3b[key].constructor!=Array){_3b[key]=[_3b[key]];}_3b[key].push(_3e);}else{_3b[key]=_3e;}}return _3b;});},toArray:function(){return this.split("");},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1);},times:function(_3f){var _40="";for(var i=0;i<_3f;i++){_40+=this;}return _40;},camelize:function(){var _42=this.split("-"),len=_42.length;if(len==1){return _42[0];}var _44=this.charAt(0)=="-"?_42[0].charAt(0).toUpperCase()+_42[0].substring(1):_42[0];for(var i=1;i<len;i++){_44+=_42[i].charAt(0).toUpperCase()+_42[i].substring(1);}return _44;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase();},dasherize:function(){return this.gsub(/_/,"-");},inspect:function(_46){var _47=this.gsub(/[\x00-\x1f\\]/,function(_48){var _49=String.specialChar[_48[0]];return _49?_49:"\\u00"+_48[0].charCodeAt().toPaddedString(2,16);});if(_46){return "\""+_47.replace(/"/g,"\\\"")+"\"";}return "'"+_47.replace(/'/g,"\\'")+"'";},toJSON:function(){return this.inspect(true);},unfilterJSON:function(_4a){return this.sub(_4a||Prototype.JSONFilter,"#{1}");},isJSON:function(){var str=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return (/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str);},evalJSON:function(_4c){var _4d=this.unfilterJSON();try{if(!_4c||_4d.isJSON()){return eval("("+_4d+")");}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect());},include:function(_4e){return this.indexOf(_4e)>-1;},startsWith:function(_4f){return this.indexOf(_4f)===0;},endsWith:function(_50){var d=this.length-_50.length;return d>=0&&this.lastIndexOf(_50)===d;},empty:function(){return this=="";},blank:function(){return /^\s*$/.test(this);}});if(Prototype.Browser.WebKit||Prototype.Browser.IE){Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");}});}String.prototype.gsub.prepareReplacement=function(_52){if(typeof _52=="function"){return _52;}var _53=new Template(_52);return function(_54){return _53.evaluate(_54);};};String.prototype.parseQuery=String.prototype.toQueryParams;Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")});with(String.prototype.escapeHTML){div.appendChild(text);}var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;Template.prototype={initialize:function(_55,_56){this.template=_55.toString();this.pattern=_56||Template.Pattern;},evaluate:function(_57){return this.template.gsub(this.pattern,function(_58){var _59=_58[1];if(_59=="\\"){return _58[2];}return _59+String.interpret(_57[_58[3]]);});}};var $break={},$continue=new Error("\"throw $continue\" is deprecated, use \"return\" instead");var Enumerable={each:function(_5a){var _5b=0;try{this._each(function(_5c){_5a(_5c,_5b++);});}catch(e){if(e!=$break){throw e;}}return this;},eachSlice:function(_5d,_5e){var _5f=-_5d,_60=[],_61=this.toArray();while((_5f+=_5d)<_61.length){_60.push(_61.slice(_5f,_5f+_5d));}return _60.map(_5e);},all:function(_62){var _63=true;this.each(function(_64,_65){_63=_63&&!!(_62||Prototype.K)(_64,_65);if(!_63){throw $break;}});return _63;},any:function(_66){var _67=false;this.each(function(_68,_69){if(_67=!!(_66||Prototype.K)(_68,_69)){throw $break;}});return _67;},collect:function(_6a){var _6b=[];this.each(function(_6c,_6d){_6b.push((_6a||Prototype.K)(_6c,_6d));});return _6b;},detect:function(_6e){var _6f;this.each(function(_70,_71){if(_6e(_70,_71)){_6f=_70;throw $break;}});return _6f;},findAll:function(_72){var _73=[];this.each(function(_74,_75){if(_72(_74,_75)){_73.push(_74);}});return _73;},grep:function(_76,_77){var _78=[];this.each(function(_79,_7a){var _7b=_79.toString();if(_7b.match(_76)){_78.push((_77||Prototype.K)(_79,_7a));}});return _78;},include:function(_7c){var _7d=false;this.each(function(_7e){if(_7e==_7c){_7d=true;throw $break;}});return _7d;},inGroupsOf:function(_7f,_80){_80=_80===undefined?null:_80;return this.eachSlice(_7f,function(_81){while(_81.length<_7f){_81.push(_80);}return _81;});},inject:function(_82,_83){this.each(function(_84,_85){_82=_83(_82,_84,_85);});return _82;},invoke:function(_86){var _87=$A(arguments).slice(1);return this.map(function(_88){return _88[_86].apply(_88,_87);});},max:function(_89){var _8a;this.each(function(_8b,_8c){_8b=(_89||Prototype.K)(_8b,_8c);if(_8a==undefined||_8b>=_8a){_8a=_8b;}});return _8a;},min:function(_8d){var _8e;this.each(function(_8f,_90){_8f=(_8d||Prototype.K)(_8f,_90);if(_8e==undefined||_8f<_8e){_8e=_8f;}});return _8e;},partition:function(_91){var _92=[],_93=[];this.each(function(_94,_95){((_91||Prototype.K)(_94,_95)?_92:_93).push(_94);});return [_92,_93];},pluck:function(_96){var _97=[];this.each(function(_98,_99){_97.push(_98[_96]);});return _97;},reject:function(_9a){var _9b=[];this.each(function(_9c,_9d){if(!_9a(_9c,_9d)){_9b.push(_9c);}});return _9b;},sortBy:function(_9e){return this.map(function(_9f,_a0){return {value:_9f,criteria:_9e(_9f,_a0)};}).sort(function(_a1,_a2){var a=_a1.criteria,b=_a2.criteria;return a<b?-1:a>b?1:0;}).pluck("value");},toArray:function(){return this.map();},zip:function(){var _a5=Prototype.K,_a6=$A(arguments);if(typeof _a6.last()=="function"){_a5=_a6.pop();}var _a7=[this].concat(_a6).map($A);return this.map(function(_a8,_a9){return _a5(_a7.pluck(_a9));});},size:function(){return this.toArray().length;},inspect:function(){return "#<Enumerable:"+this.toArray().inspect()+">";}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(_aa){if(!_aa){return [];}if(_aa.toArray){return _aa.toArray();}else{var _ab=[];for(var i=0,_ad=_aa.length;i<_ad;i++){_ab.push(_aa[i]);}return _ab;}};if(Prototype.Browser.WebKit){$A=Array.from=function(_ae){if(!_ae){return [];}if(!(typeof _ae=="function"&&_ae=="[object NodeList]")&&_ae.toArray){return _ae.toArray();}else{var _af=[];for(var i=0,_b1=_ae.length;i<_b1;i++){_af.push(_ae[i]);}return _af;}};}Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse;}Object.extend(Array.prototype,{_each:function(_b2){for(var i=0,_b4=this.length;i<_b4;i++){_b2(this[i]);}},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(_b5){return _b5!=null;});},flatten:function(){return this.inject([],function(_b6,_b7){return _b6.concat(_b7&&_b7.constructor==Array?_b7.flatten():[_b7]);});},without:function(){var _b8=$A(arguments);return this.select(function(_b9){return !_b8.include(_b9);});},indexOf:function(_ba){for(var i=0,_bc=this.length;i<_bc;i++){if(this[i]==_ba){return i;}}return -1;},reverse:function(_bd){return (_bd!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(_be){return this.inject([],function(_bf,_c0,_c1){if(0==_c1||(_be?_bf.last()!=_c0:!_bf.include(_c0))){_bf.push(_c0);}return _bf;});},clone:function(){return [].concat(this);},size:function(){return this.length;},inspect:function(){return "["+this.map(Object.inspect).join(", ")+"]";},toJSON:function(){var _c2=[];this.each(function(_c3){var _c4=Object.toJSON(_c3);if(_c4!==undefined){_c2.push(_c4);}});return "["+_c2.join(", ")+"]";}});Array.prototype.toArray=Array.prototype.clone;function $w(_c5){_c5=_c5.strip();return _c5?_c5.split(/\s+/):[];};if(Prototype.Browser.Opera){Array.prototype.concat=function(){var _c6=[];for(var i=0,_c8=this.length;i<_c8;i++){_c6.push(this[i]);}for(var i=0,_c8=arguments.length;i<_c8;i++){if(arguments[i].constructor==Array){for(var j=0,_ca=arguments[i].length;j<_ca;j++){_c6.push(arguments[i][j]);}}else{_c6.push(arguments[i]);}}return _c6;};}var Hash=function(_cb){if(_cb instanceof Hash){this.merge(_cb);}else{Object.extend(this,_cb||{});}};Object.extend(Hash,{toQueryString:function(obj){var _cd=[];_cd.add=arguments.callee.addPair;this.prototype._each.call(obj,function(_ce){if(!_ce.key){return;}var _cf=_ce.value;if(_cf&&typeof _cf=="object"){if(_cf.constructor==Array){_cf.each(function(_d0){_cd.add(_ce.key,_d0);});}return;}_cd.add(_ce.key,_cf);});return _cd.join("&");},toJSON:function(_d1){var _d2=[];this.prototype._each.call(_d1,function(_d3){var _d4=Object.toJSON(_d3.value);if(_d4!==undefined){_d2.push(_d3.key.toJSON()+": "+_d4);}});return "{"+_d2.join(", ")+"}";}});Hash.toQueryString.addPair=function(key,_d6,_d7){key=encodeURIComponent(key);if(_d6===undefined){this.push(key);}else{this.push(key+"="+(_d6==null?"":encodeURIComponent(_d6)));}};Object.extend(Hash.prototype,Enumerable);Object.extend(Hash.prototype,{_each:function(_d8){for(var key in this){var _da=this[key];if(_da&&_da==Hash.prototype[key]){continue;}var _db=[key,_da];_db.key=key;_db.value=_da;_d8(_db);}},keys:function(){return this.pluck("key");},values:function(){return this.pluck("value");},merge:function(_dc){return $H(_dc).inject(this,function(_dd,_de){_dd[_de.key]=_de.value;return _dd;});},remove:function(){var _df;for(var i=0,_e1=arguments.length;i<_e1;i++){var _e2=this[arguments[i]];if(_e2!==undefined){if(_df===undefined){_df=_e2;}else{if(_df.constructor!=Array){_df=[_df];}_df.push(_e2);}}delete this[arguments[i]];}return _df;},toQueryString:function(){return Hash.toQueryString(this);},inspect:function(){return "#<Hash:{"+this.map(function(_e3){return _e3.map(Object.inspect).join(": ");}).join(", ")+"}>";},toJSON:function(){return Hash.toJSON(this);}});function $H(_e4){if(_e4 instanceof Hash){return _e4;}return new Hash(_e4);};if(function(){var i=0,_e6=function(_e7){this.key=_e7;};_e6.prototype.key="foo";for(var _e8 in new _e6("bar")){i++;}return i>1;}()){Hash.prototype._each=function(_e9){var _ea=[];for(var key in this){var _ec=this[key];if((_ec&&_ec==Hash.prototype[key])||_ea.include(key)){continue;}_ea.push(key);var _ed=[key,_ec];_ed.key=key;_ed.value=_ec;_e9(_ed);}};}ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(_ee,end,_f0){this.start=_ee;this.end=end;this.exclusive=_f0;},_each:function(_f1){var _f2=this.start;while(this.include(_f2)){_f1(_f2);_f2=_f2.succ();}},include:function(_f3){if(_f3<this.start){return false;}if(this.exclusive){return _f3<this.end;}return _f3<=this.end;}});var $R=function(_f4,end,_f6){return new ObjectRange(_f4,end,_f6);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(_f7){this.responders._each(_f7);},register:function(_f8){if(!this.include(_f8)){this.responders.push(_f8);}},unregister:function(_f9){this.responders=this.responders.without(_f9);},dispatch:function(_fa,_fb,_fc,_fd){this.each(function(_fe){if(typeof _fe[_fa]=="function"){try{_fe[_fa].apply(_fe,[_fb,_fc,_fd]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++;},onComplete:function(){Ajax.activeRequestCount--;}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(_ff){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,_ff||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams();}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(url,_101){this.transport=Ajax.getTransport();this.setOptions(_101);this.request(url);},request:function(url){this.url=url;this.method=this.options.method;var _103=Object.clone(this.options.parameters);if(!["get","post"].include(this.method)){_103["_method"]=this.method;this.method="post";}this.parameters=_103;if(_103=Hash.toQueryString(_103)){if(this.method=="get"){this.url+=(this.url.include("?")?"&":"?")+_103;}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){_103+="&_=";}}}try{if(this.options.onCreate){this.options.onCreate(this.transport);}Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1);}.bind(this),10);}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||_103):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){this.dispatchException(e);}},onStateChange:function(){var _104=this.transport.readyState;if(_104>1&&!((_104==4)&&this._complete)){this.respondToReadyState(this.transport.readyState);}},setRequestHeaders:function(){var _105={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,"Accept":"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){_105["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){_105["Connection"]="close";}}if(typeof this.options.requestHeaders=="object"){var _106=this.options.requestHeaders;if(typeof _106.push=="function"){for(var i=0,_108=_106.length;i<_108;i+=2){_105[_106[i]]=_106[i+1];}}else{$H(_106).each(function(pair){_105[pair.key]=pair.value;});}}for(var name in _105){this.transport.setRequestHeader(name,_105[name]);}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300);},respondToReadyState:function(_10b){var _10c=Ajax.Request.Events[_10b];var _10d=this.transport,json=this.evalJSON();if(_10c=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(_10d,json);}catch(e){this.dispatchException(e);}var _10f=this.getHeader("Content-type");if(_10f&&_10f.strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse();}}try{(this.options["on"+_10c]||Prototype.emptyFunction)(_10d,json);Ajax.Responders.dispatch("on"+_10c,this,_10d,json);}catch(e){this.dispatchException(e);}if(_10c=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction;}},getHeader:function(name){try{return this.transport.getResponseHeader(name);}catch(e){return null;}},evalJSON:function(){try{var json=this.getHeader("X-JSON");return json?json.evalJSON():null;}catch(e){return null;}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON());}catch(e){this.dispatchException(e);}},dispatchException:function(_112){(this.options.onException||Prototype.emptyFunction)(this,_112);Ajax.Responders.dispatch("onException",this,_112);}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(_113,url,_115){this.container={success:(_113.success||_113),failure:(_113.failure||(_113.success?null:_113))};this.transport=Ajax.getTransport();this.setOptions(_115);var _116=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(_117,_118){this.updateContent();_116(_117,_118);}).bind(this);this.request(url);},updateContent:function(){var _119=this.container[this.success()?"success":"failure"];var _11a=this.transport.responseText;if(!this.options.evalScripts){_11a=_11a.stripScripts();}if(_119=$(_119)){if(this.options.insertion){new this.options.insertion(_119,_11a);}else{_119.update(_11a);}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10);}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(_11b,url,_11d){this.setOptions(_11d);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=_11b;this.url=url;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(_11e){if(this.options.decay){this.decay=(_11e.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=_11e.responseText;}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(_11f){if(arguments.length>1){for(var i=0,_121=[],_122=arguments.length;i<_122;i++){_121.push($(arguments[i]));}return _121;}if(typeof _11f=="string"){_11f=document.getElementById(_11f);}return Element.extend(_11f);};if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(_123,_124){var _125=[];var _126=document.evaluate(_123,$(_124)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,_128=_126.snapshotLength;i<_128;i++){_125.push(_126.snapshotItem(i));}return _125;};document.getElementsByClassName=function(_129,_12a){var q=".//*[contains(concat(' ', @class, ' '), ' "+_129+" ')]";return document._getElementsByXPath(q,_12a);};}else{document.getElementsByClassName=function(_12c,_12d){var _12e=($(_12d)||document.body).getElementsByTagName("*");var _12f=[],_130,_131=new RegExp("(^|\\s)"+_12c+"(\\s|$)");for(var i=0,_133=_12e.length;i<_133;i++){_130=_12e[i];var _134=_130.className;if(_134.length==0){continue;}if(_134==_12c||_134.match(_131)){_12f.push(Element.extend(_130));}}return _12f;};}if(!window.Element){var Element={};}Element.extend=function(_135){var F=Prototype.BrowserFeatures;if(!_135||!_135.tagName||_135.nodeType==3||_135._extended||F.SpecificElementExtensions||_135==window){return _135;}var _137={},_138=_135.tagName,_139=Element.extend.cache,T=Element.Methods.ByTag;if(!F.ElementExtensions){Object.extend(_137,Element.Methods),Object.extend(_137,Element.Methods.Simulated);}if(T[_138]){Object.extend(_137,T[_138]);}for(var _13b in _137){var _13c=_137[_13b];if(typeof _13c=="function"&&!(_13b in _135)){_135[_13b]=_139.findOrStore(_13c);}}_135._extended=Prototype.emptyFunction;return _135;};Element.extend.cache={findOrStore:function(_13d){return this[_13d]=this[_13d]||function(){return _13d.apply(null,[this].concat($A(arguments)));};}};Element.Methods={visible:function(_13e){return $(_13e).style.display!="none";},toggle:function(_13f){_13f=$(_13f);Element[Element.visible(_13f)?"hide":"show"](_13f);return _13f;},hide:function(_140){$(_140).style.display="none";return _140;},show:function(_141){$(_141).style.display="";return _141;},remove:function(_142){_142=$(_142);_142.parentNode.removeChild(_142);return _142;},update:function(_143,html){html=typeof html=="undefined"?"":html.toString();$(_143).innerHTML=html.stripScripts();setTimeout(function(){html.evalScripts();},10);return _143;},replace:function(_145,html){_145=$(_145);html=typeof html=="undefined"?"":html.toString();if(_145.outerHTML){_145.outerHTML=html.stripScripts();}else{var _147=_145.ownerDocument.createRange();_147.selectNodeContents(_145);_145.parentNode.replaceChild(_147.createContextualFragment(html.stripScripts()),_145);}setTimeout(function(){html.evalScripts();},10);return _145;},inspect:function(_148){_148=$(_148);var _149="<"+_148.tagName.toLowerCase();$H({"id":"id","className":"class"}).each(function(pair){var _14b=pair.first(),_14c=pair.last();var _14d=(_148[_14b]||"").toString();if(_14d){_149+=" "+_14c+"="+_14d.inspect(true);}});return _149+">";},recursivelyCollect:function(_14e,_14f){_14e=$(_14e);var _150=[];while(_14e=_14e[_14f]){if(_14e.nodeType==1){_150.push(Element.extend(_14e));}}return _150;},ancestors:function(_151){return $(_151).recursivelyCollect("parentNode");},descendants:function(_152){return $A($(_152).getElementsByTagName("*")).each(Element.extend);},firstDescendant:function(_153){_153=$(_153).firstChild;while(_153&&_153.nodeType!=1){_153=_153.nextSibling;}return $(_153);},immediateDescendants:function(_154){if(!(_154=$(_154).firstChild)){return [];}while(_154&&_154.nodeType!=1){_154=_154.nextSibling;}if(_154){return [_154].concat($(_154).nextSiblings());}return [];},previousSiblings:function(_155){return $(_155).recursivelyCollect("previousSibling");},nextSiblings:function(_156){return $(_156).recursivelyCollect("nextSibling");},siblings:function(_157){_157=$(_157);return _157.previousSiblings().reverse().concat(_157.nextSiblings());},match:function(_158,_159){if(typeof _159=="string"){_159=new Selector(_159);}return _159.match($(_158));},up:function(_15a,_15b,_15c){_15a=$(_15a);if(arguments.length==1){return $(_15a.parentNode);}var _15d=_15a.ancestors();return _15b?Selector.findElement(_15d,_15b,_15c):_15d[_15c||0];},down:function(_15e,_15f,_160){_15e=$(_15e);if(arguments.length==1){return _15e.firstDescendant();}var _161=_15e.descendants();return _15f?Selector.findElement(_161,_15f,_160):_161[_160||0];},previous:function(_162,_163,_164){_162=$(_162);if(arguments.length==1){return $(Selector.handlers.previousElementSibling(_162));}var _165=_162.previousSiblings();return _163?Selector.findElement(_165,_163,_164):_165[_164||0];},next:function(_166,_167,_168){_166=$(_166);if(arguments.length==1){return $(Selector.handlers.nextElementSibling(_166));}var _169=_166.nextSiblings();return _167?Selector.findElement(_169,_167,_168):_169[_168||0];},getElementsBySelector:function(){var args=$A(arguments),_16b=$(args.shift());return Selector.findChildElements(_16b,args);},getElementsByClassName:function(_16c,_16d){return document.getElementsByClassName(_16d,_16c);},readAttribute:function(_16e,name){_16e=$(_16e);if(Prototype.Browser.IE){if(!_16e.attributes){return null;}var t=Element._attributeTranslations;if(t.values[name]){return t.values[name](_16e,name);}if(t.names[name]){name=t.names[name];}var _171=_16e.attributes[name];return _171?_171.nodeValue:null;}return _16e.getAttribute(name);},getHeight:function(_172){return $(_172).getDimensions().height;},getWidth:function(_173){return $(_173).getDimensions().width;},classNames:function(_174){return new Element.ClassNames(_174);},hasClassName:function(_175,_176){if(!(_175=$(_175))){return;}var _177=_175.className;if(_177.length==0){return false;}if(_177==_176||_177.match(new RegExp("(^|\\s)"+_176+"(\\s|$)"))){return true;}return false;},addClassName:function(_178,_179){if(!(_178=$(_178))){return;}Element.classNames(_178).add(_179);return _178;},removeClassName:function(_17a,_17b){if(!(_17a=$(_17a))){return;}Element.classNames(_17a).remove(_17b);return _17a;},toggleClassName:function(_17c,_17d){if(!(_17c=$(_17c))){return;}Element.classNames(_17c)[_17c.hasClassName(_17d)?"remove":"add"](_17d);return _17c;},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first();},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first();},cleanWhitespace:function(_17e){_17e=$(_17e);var node=_17e.firstChild;while(node){var _180=node.nextSibling;if(node.nodeType==3&&!/\S/.test(node.nodeValue)){_17e.removeChild(node);}node=_180;}return _17e;},empty:function(_181){return $(_181).innerHTML.blank();},descendantOf:function(_182,_183){_182=$(_182),_183=$(_183);while(_182=_182.parentNode){if(_182==_183){return true;}}return false;},scrollTo:function(_184){_184=$(_184);var pos=Position.cumulativeOffset(_184);window.scrollTo(pos[0],pos[1]);return _184;},getStyle:function(_186,_187){_186=$(_186);_187=_187=="float"?"cssFloat":_187.camelize();var _188=_186.style[_187];if(!_188){var css=document.defaultView.getComputedStyle(_186,null);_188=css?css[_187]:null;}if(_187=="opacity"){return _188?parseFloat(_188):1;}return _188=="auto"?null:_188;},getOpacity:function(_18a){return $(_18a).getStyle("opacity");},setStyle:function(_18b,_18c,_18d){_18b=$(_18b);var _18e=_18b.style;for(var _18f in _18c){if(_18f=="opacity"){_18b.setOpacity(_18c[_18f]);}else{_18e[(_18f=="float"||_18f=="cssFloat")?(_18e.styleFloat===undefined?"cssFloat":"styleFloat"):(_18d?_18f:_18f.camelize())]=_18c[_18f];}}return _18b;},setOpacity:function(_190,_191){_190=$(_190);_190.style.opacity=(_191==1||_191==="")?"":(_191<0.00001)?0:_191;return _190;},getDimensions:function(_192){_192=$(_192);var _193=$(_192).getStyle("display");if(_193!="none"&&_193!=null){return {width:_192.offsetWidth,height:_192.offsetHeight};}var els=_192.style;var _195=els.visibility;var _196=els.position;var _197=els.display;els.visibility="hidden";els.position="absolute";els.display="block";var _198=_192.clientWidth;var _199=_192.clientHeight;els.display=_197;els.position=_196;els.visibility=_195;return {width:_198,height:_199};},makePositioned:function(_19a){_19a=$(_19a);var pos=Element.getStyle(_19a,"position");if(pos=="static"||!pos){_19a._madePositioned=true;_19a.style.position="relative";if(window.opera){_19a.style.top=0;_19a.style.left=0;}}return _19a;},undoPositioned:function(_19c){_19c=$(_19c);if(_19c._madePositioned){_19c._madePositioned=undefined;_19c.style.position=_19c.style.top=_19c.style.left=_19c.style.bottom=_19c.style.right="";}return _19c;},makeClipping:function(_19d){_19d=$(_19d);if(_19d._overflow){return _19d;}_19d._overflow=_19d.style.overflow||"auto";if((Element.getStyle(_19d,"overflow")||"visible")!="hidden"){_19d.style.overflow="hidden";}return _19d;},undoClipping:function(_19e){_19e=$(_19e);if(!_19e._overflow){return _19e;}_19e.style.overflow=_19e._overflow=="auto"?"":_19e._overflow;_19e._overflow=null;return _19e;}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf,childElements:Element.Methods.immediateDescendants});if(Prototype.Browser.Opera){Element.Methods._getStyle=Element.Methods.getStyle;Element.Methods.getStyle=function(_19f,_1a0){switch(_1a0){case "left":case "top":case "right":case "bottom":if(Element._getStyle(_19f,"position")=="static"){return null;}default:return Element._getStyle(_19f,_1a0);}};}else{if(Prototype.Browser.IE){Element.Methods.getStyle=function(_1a1,_1a2){_1a1=$(_1a1);_1a2=(_1a2=="float"||_1a2=="cssFloat")?"styleFloat":_1a2.camelize();var _1a3=_1a1.style[_1a2];if(!_1a3&&_1a1.currentStyle){_1a3=_1a1.currentStyle[_1a2];}if(_1a2=="opacity"){if(_1a3=(_1a1.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(_1a3[1]){return parseFloat(_1a3[1])/100;}}return 1;}if(_1a3=="auto"){if((_1a2=="width"||_1a2=="height")&&(_1a1.getStyle("display")!="none")){return _1a1["offset"+_1a2.capitalize()]+"px";}return null;}return _1a3;};Element.Methods.setOpacity=function(_1a4,_1a5){_1a4=$(_1a4);var _1a6=_1a4.getStyle("filter"),_1a7=_1a4.style;if(_1a5==1||_1a5===""){_1a7.filter=_1a6.replace(/alpha\([^\)]*\)/gi,"");return _1a4;}else{if(_1a5<0.00001){_1a5=0;}}_1a7.filter=_1a6.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+(_1a5*100)+")";return _1a4;};Element.Methods.update=function(_1a8,html){_1a8=$(_1a8);html=typeof html=="undefined"?"":html.toString();var _1aa=_1a8.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(_1aa)){var div=document.createElement("div");switch(_1aa){case "THEAD":case "TBODY":div.innerHTML="<table><tbody>"+html.stripScripts()+"</tbody></table>";depth=2;break;case "TR":div.innerHTML="<table><tbody><tr>"+html.stripScripts()+"</tr></tbody></table>";depth=3;break;case "TD":div.innerHTML="<table><tbody><tr><td>"+html.stripScripts()+"</td></tr></tbody></table>";depth=4;}$A(_1a8.childNodes).each(function(node){_1a8.removeChild(node);});depth.times(function(){div=div.firstChild;});$A(div.childNodes).each(function(node){_1a8.appendChild(node);});}else{_1a8.innerHTML=html.stripScripts();}setTimeout(function(){html.evalScripts();},10);return _1a8;};}else{if(Prototype.Browser.Gecko){Element.Methods.setOpacity=function(_1ae,_1af){_1ae=$(_1ae);_1ae.style.opacity=(_1af==1)?0.999999:(_1af==="")?"":(_1af<0.00001)?0:_1af;return _1ae;};}}}Element._attributeTranslations={names:{colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"},values:{_getAttr:function(_1b0,_1b1){return _1b0.getAttribute(_1b1,2);},_flag:function(_1b2,_1b3){return $(_1b2).hasAttribute(_1b3)?_1b3:null;},style:function(_1b4){return _1b4.style.cssText.toLowerCase();},title:function(_1b5){var node=_1b5.getAttributeNode("title");return node.specified?node.nodeValue:null;}}};(function(){Object.extend(this,{href:this._getAttr,src:this._getAttr,type:this._getAttr,disabled:this._flag,checked:this._flag,readonly:this._flag,multiple:this._flag});}).call(Element._attributeTranslations.values);Element.Methods.Simulated={hasAttribute:function(_1b7,_1b8){var t=Element._attributeTranslations,node;_1b8=t.names[_1b8]||_1b8;node=$(_1b7).getAttributeNode(_1b8);return node&&node.specified;}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);if(!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div").__proto__){window.HTMLElement={};window.HTMLElement.prototype=document.createElement("div").__proto__;Prototype.BrowserFeatures.ElementExtensions=true;}Element.hasAttribute=function(_1bb,_1bc){if(_1bb.hasAttribute){return _1bb.hasAttribute(_1bc);}return Element.Methods.Simulated.hasAttribute(_1bb,_1bc);};Element.addMethods=function(_1bd){var F=Prototype.BrowserFeatures,T=Element.Methods.ByTag;if(!_1bd){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{"FORM":Object.clone(Form.Methods),"INPUT":Object.clone(Form.Element.Methods),"SELECT":Object.clone(Form.Element.Methods),"TEXTAREA":Object.clone(Form.Element.Methods)});}if(arguments.length==2){var _1c0=_1bd;_1bd=arguments[1];}if(!_1c0){Object.extend(Element.Methods,_1bd||{});}else{if(_1c0.constructor==Array){_1c0.each(extend);}else{extend(_1c0);}}function extend(_1c1){_1c1=_1c1.toUpperCase();if(!Element.Methods.ByTag[_1c1]){Element.Methods.ByTag[_1c1]={};}Object.extend(Element.Methods.ByTag[_1c1],_1bd);};function copy(_1c2,_1c3,_1c4){_1c4=_1c4||false;var _1c5=Element.extend.cache;for(var _1c6 in _1c2){var _1c7=_1c2[_1c6];if(!_1c4||!(_1c6 in _1c3)){_1c3[_1c6]=_1c5.findOrStore(_1c7);}}};function findDOMClass(_1c8){var _1c9;var _1ca={"OPTGROUP":"OptGroup","TEXTAREA":"TextArea","P":"Paragraph","FIELDSET":"FieldSet","UL":"UList","OL":"OList","DL":"DList","DIR":"Directory","H1":"Heading","H2":"Heading","H3":"Heading","H4":"Heading","H5":"Heading","H6":"Heading","Q":"Quote","INS":"Mod","DEL":"Mod","A":"Anchor","IMG":"Image","CAPTION":"TableCaption","COL":"TableCol","COLGROUP":"TableCol","THEAD":"TableSection","TFOOT":"TableSection","TBODY":"TableSection","TR":"TableRow","TH":"TableCell","TD":"TableCell","FRAMESET":"FrameSet","IFRAME":"IFrame"};if(_1ca[_1c8]){_1c9="HTML"+_1ca[_1c8]+"Element";}if(window[_1c9]){return window[_1c9];}_1c9="HTML"+_1c8+"Element";if(window[_1c9]){return window[_1c9];}_1c9="HTML"+_1c8.capitalize()+"Element";if(window[_1c9]){return window[_1c9];}window[_1c9]={};window[_1c9].prototype=document.createElement(_1c8).__proto__;return window[_1c9];};if(F.ElementExtensions){copy(Element.Methods,HTMLElement.prototype);copy(Element.Methods.Simulated,HTMLElement.prototype,true);}if(F.SpecificElementExtensions){for(var tag in Element.Methods.ByTag){var _1cc=findDOMClass(tag);if(typeof _1cc=="undefined"){continue;}copy(T[tag],_1cc.prototype);}}Object.extend(Element,Element.Methods);delete Element.ByTag;};var Toggle={display:Element.toggle};Abstract.Insertion=function(_1cd){this.adjacency=_1cd;};Abstract.Insertion.prototype={initialize:function(_1ce,_1cf){this.element=$(_1ce);this.content=_1cf.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content);}catch(e){var _1d0=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(_1d0)){this.insertContent(this.contentFromAnonymousTable());}else{throw e;}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange();}this.insertContent([this.range.createContextualFragment(this.content)]);}setTimeout(function(){_1cf.evalScripts();},10);},contentFromAnonymousTable:function(){var div=document.createElement("div");div.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(div.childNodes[0].childNodes[0].childNodes);}};var Insertion=new Object();Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element);},insertContent:function(_1d2){_1d2.each((function(_1d3){this.element.parentNode.insertBefore(_1d3,this.element);}).bind(this));}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true);},insertContent:function(_1d4){_1d4.reverse(false).each((function(_1d5){this.element.insertBefore(_1d5,this.element.firstChild);}).bind(this));}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element);},insertContent:function(_1d6){_1d6.each((function(_1d7){this.element.appendChild(_1d7);}).bind(this));}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element);},insertContent:function(_1d8){_1d8.each((function(_1d9){this.element.parentNode.insertBefore(_1d9,this.element.nextSibling);}).bind(this));}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(_1da){this.element=$(_1da);},_each:function(_1db){this.element.className.split(/\s+/).select(function(name){return name.length>0;})._each(_1db);},set:function(_1dd){this.element.className=_1dd;},add:function(_1de){if(this.include(_1de)){return;}this.set($A(this).concat(_1de).join(" "));},remove:function(_1df){if(!this.include(_1df)){return;}this.set($A(this).without(_1df).join(" "));},toString:function(){return $A(this).join(" ");}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(_1e0){this.expression=_1e0.strip();this.compileMatcher();},compileMatcher:function(){if(Prototype.BrowserFeatures.XPath&&!(/\[[\w-]*?:/).test(this.expression)){return this.compileXPathMatcher();}var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e]){this.matcher=Selector._cache[e];return;}this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){p=ps[i];if(m=e.match(p)){this.matcher.push(typeof c[i]=="function"?c[i](m):new Template(c[i]).evaluate(m));e=e.replace(m[0],"");break;}}}this.matcher.push("return h.unique(n);\n}");eval(this.matcher.join("\n"));Selector._cache[this.expression]=this.matcher;},compileXPathMatcher:function(){var e=this.expression,ps=Selector.patterns,x=Selector.xpath,le,m;if(Selector._cache[e]){this.xpath=Selector._cache[e];return;}this.matcher=[".//*"];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){if(m=e.match(ps[i])){this.matcher.push(typeof x[i]=="function"?x[i](m):new Template(x[i]).evaluate(m));e=e.replace(m[0],"");break;}}}this.xpath=this.matcher.join("");Selector._cache[this.expression]=this.xpath;},findElements:function(root){root=root||document;if(this.xpath){return document._getElementsByXPath(this.xpath,root);}return this.matcher(root);},match:function(_1f0){return this.findElements(document).include(_1f0);},toString:function(){return this.expression;},inspect:function(){return "#<Selector:"+this.expression.inspect()+">";}};Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(m){if(m[1]=="*"){return "";}return "[local-name()='"+m[1].toLowerCase()+"' or local-name()='"+m[1].toUpperCase()+"']";},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:"[@#{1}]",attr:function(m){m[3]=m[5]||m[6];return new Template(Selector.xpath.operators[m[2]]).evaluate(m);},pseudo:function(m){var h=Selector.xpath.pseudos[m[1]];if(!h){return "";}if(typeof h==="function"){return h(m);}return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m);},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]","last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]","empty":"[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]","checked":"[@checked]","disabled":"[@disabled]","enabled":"[not(@disabled)]","not":function(m){var e=m[6],p=Selector.patterns,x=Selector.xpath,le,m,v;var _1fb=[];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in p){if(m=e.match(p[i])){v=typeof x[i]=="function"?x[i](m):new Template(x[i]).evaluate(m);_1fb.push("("+v.substring(1,v.length-1)+")");e=e.replace(m[0],"");break;}}}return "[not("+_1fb.join(" and ")+")]";},"nth-child":function(m){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",m);},"nth-last-child":function(m){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",m);},"nth-of-type":function(m){return Selector.xpath.pseudos.nth("position() ",m);},"nth-last-of-type":function(m){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",m);},"first-of-type":function(m){m[6]="1";return Selector.xpath.pseudos["nth-of-type"](m);},"last-of-type":function(m){m[6]="1";return Selector.xpath.pseudos["nth-last-of-type"](m);},"only-of-type":function(m){var p=Selector.xpath.pseudos;return p["first-of-type"](m)+p["last-of-type"](m);},nth:function(_205,m){var mm,_208=m[6],_209;if(_208=="even"){_208="2n+0";}if(_208=="odd"){_208="2n+1";}if(mm=_208.match(/^(\d+)$/)){return "["+_205+"= "+mm[1]+"]";}if(mm=_208.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(mm[1]=="-"){mm[1]=-1;}var a=mm[1]?Number(mm[1]):1;var b=mm[2]?Number(mm[2]):0;_209="[((#{fragment} - #{b}) mod #{a} = 0) and "+"((#{fragment} - #{b}) div #{a} >= 0)]";return new Template(_209).evaluate({fragment:_205,a:a,b:b});}}}},criteria:{tagName:"n = h.tagName(n, r, \"#{1}\", c);   c = false;",className:"n = h.className(n, r, \"#{1}\", c); c = false;",id:"n = h.id(n, r, \"#{1}\", c);        c = false;",attrPresence:"n = h.attrPresence(n, r, \"#{1}\"); c = false;",attr:function(m){m[3]=(m[5]||m[6]);return new Template("n = h.attr(n, r, \"#{1}\", \"#{3}\", \"#{2}\"); c = false;").evaluate(m);},pseudo:function(m){if(m[6]){m[6]=m[6].replace(/"/g,"\\\"");}return new Template("n = h.pseudo(n, \"#{1}\", \"#{6}\", r, c); c = false;").evaluate(m);},descendant:"c = \"descendant\";",child:"c = \"child\";",adjacent:"c = \"adjacent\";",laterSibling:"c = \"laterSibling\";"},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))/,attrPresence:/^\[([\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]/},handlers:{concat:function(a,b){for(var i=0,node;node=b[i];i++){a.push(node);}return a;},mark:function(_212){for(var i=0,node;node=_212[i];i++){node._counted=true;}return _212;},unmark:function(_215){for(var i=0,node;node=_215[i];i++){node._counted=undefined;}return _215;},index:function(_218,_219,_21a){_218._counted=true;if(_219){for(var _21b=_218.childNodes,i=_21b.length-1,j=1;i>=0;i--){node=_21b[i];if(node.nodeType==1&&(!_21a||node._counted)){node.nodeIndex=j++;}}}else{for(var i=0,j=1,_21b=_218.childNodes;node=_21b[i];i++){if(node.nodeType==1&&(!_21a||node._counted)){node.nodeIndex=j++;}}}},unique:function(_21e){if(_21e.length==0){return _21e;}var _21f=[],n;for(var i=0,l=_21e.length;i<l;i++){if(!(n=_21e[i])._counted){n._counted=true;_21f.push(Element.extend(n));}}return Selector.handlers.unmark(_21f);},descendant:function(_223){var h=Selector.handlers;for(var i=0,_226=[],node;node=_223[i];i++){h.concat(_226,node.getElementsByTagName("*"));}return _226;},child:function(_228){var h=Selector.handlers;for(var i=0,_22b=[],node;node=_228[i];i++){for(var j=0,_22e=[],_22f;_22f=node.childNodes[j];j++){if(_22f.nodeType==1&&_22f.tagName!="!"){_22b.push(_22f);}}}return _22b;},adjacent:function(_230){for(var i=0,_232=[],node;node=_230[i];i++){var next=this.nextElementSibling(node);if(next){_232.push(next);}}return _232;},laterSibling:function(_235){var h=Selector.handlers;for(var i=0,_238=[],node;node=_235[i];i++){h.concat(_238,Element.nextSiblings(node));}return _238;},nextElementSibling:function(node){while(node=node.nextSibling){if(node.nodeType==1){return node;}}return null;},previousElementSibling:function(node){while(node=node.previousSibling){if(node.nodeType==1){return node;}}return null;},tagName:function(_23c,root,_23e,_23f){_23e=_23e.toUpperCase();var _240=[],h=Selector.handlers;if(_23c){if(_23f){if(_23f=="descendant"){for(var i=0,node;node=_23c[i];i++){h.concat(_240,node.getElementsByTagName(_23e));}return _240;}else{_23c=this[_23f](_23c);}if(_23e=="*"){return _23c;}}for(var i=0,node;node=_23c[i];i++){if(node.tagName.toUpperCase()==_23e){_240.push(node);}}return _240;}else{return root.getElementsByTagName(_23e);}},id:function(_244,root,id,_247){var _248=$(id),h=Selector.handlers;if(!_244&&root==document){return _248?[_248]:[];}if(_244){if(_247){if(_247=="child"){for(var i=0,node;node=_244[i];i++){if(_248.parentNode==node){return [_248];}}}else{if(_247=="descendant"){for(var i=0,node;node=_244[i];i++){if(Element.descendantOf(_248,node)){return [_248];}}}else{if(_247=="adjacent"){for(var i=0,node;node=_244[i];i++){if(Selector.handlers.previousElementSibling(_248)==node){return [_248];}}}else{_244=h[_247](_244);}}}}for(var i=0,node;node=_244[i];i++){if(node==_248){return [_248];}}return [];}return (_248&&Element.descendantOf(_248,root))?[_248]:[];},className:function(_24c,root,_24e,_24f){if(_24c&&_24f){_24c=this[_24f](_24c);}return Selector.handlers.byClassName(_24c,root,_24e);},byClassName:function(_250,root,_252){if(!_250){_250=Selector.handlers.descendant([root]);}var _253=" "+_252+" ";for(var i=0,_255=[],node,_257;node=_250[i];i++){_257=node.className;if(_257.length==0){continue;}if(_257==_252||(" "+_257+" ").include(_253)){_255.push(node);}}return _255;},attrPresence:function(_258,root,attr){var _25b=[];for(var i=0,node;node=_258[i];i++){if(Element.hasAttribute(node,attr)){_25b.push(node);}}return _25b;},attr:function(_25e,root,attr,_261,_262){if(!_25e){_25e=root.getElementsByTagName("*");}var _263=Selector.operators[_262],_264=[];for(var i=0,node;node=_25e[i];i++){var _267=Element.readAttribute(node,attr);if(_267===null){continue;}if(_263(_267,_261)){_264.push(node);}}return _264;},pseudo:function(_268,name,_26a,root,_26c){if(_268&&_26c){_268=this[_26c](_268);}if(!_268){_268=root.getElementsByTagName("*");}return Selector.pseudos[name](_268,_26a,root);}},pseudos:{"first-child":function(_26d,_26e,root){for(var i=0,_271=[],node;node=_26d[i];i++){if(Selector.handlers.previousElementSibling(node)){continue;}_271.push(node);}return _271;},"last-child":function(_273,_274,root){for(var i=0,_277=[],node;node=_273[i];i++){if(Selector.handlers.nextElementSibling(node)){continue;}_277.push(node);}return _277;},"only-child":function(_279,_27a,root){var h=Selector.handlers;for(var i=0,_27e=[],node;node=_279[i];i++){if(!h.previousElementSibling(node)&&!h.nextElementSibling(node)){_27e.push(node);}}return _27e;},"nth-child":function(_280,_281,root){return Selector.pseudos.nth(_280,_281,root);},"nth-last-child":function(_283,_284,root){return Selector.pseudos.nth(_283,_284,root,true);},"nth-of-type":function(_286,_287,root){return Selector.pseudos.nth(_286,_287,root,false,true);},"nth-last-of-type":function(_289,_28a,root){return Selector.pseudos.nth(_289,_28a,root,true,true);},"first-of-type":function(_28c,_28d,root){return Selector.pseudos.nth(_28c,"1",root,false,true);},"last-of-type":function(_28f,_290,root){return Selector.pseudos.nth(_28f,"1",root,true,true);},"only-of-type":function(_292,_293,root){var p=Selector.pseudos;return p["last-of-type"](p["first-of-type"](_292,_293,root),_293,root);},getIndices:function(a,b,_298){if(a==0){return b>0?[b]:[];}return $R(1,_298).inject([],function(memo,i){if(0==(i-b)%a&&(i-b)/a>=0){memo.push(i);}return memo;});},nth:function(_29b,_29c,root,_29e,_29f){if(_29b.length==0){return [];}if(_29c=="even"){_29c="2n+0";}if(_29c=="odd"){_29c="2n+1";}var h=Selector.handlers,_2a1=[],_2a2=[],m;h.mark(_29b);for(var i=0,node;node=_29b[i];i++){if(!node.parentNode._counted){h.index(node.parentNode,_29e,_29f);_2a2.push(node.parentNode);}}if(_29c.match(/^\d+$/)){_29c=Number(_29c);for(var i=0,node;node=_29b[i];i++){if(node.nodeIndex==_29c){_2a1.push(node);}}}else{if(m=_29c.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(m[1]=="-"){m[1]=-1;}var a=m[1]?Number(m[1]):1;var b=m[2]?Number(m[2]):0;var _2a8=Selector.pseudos.getIndices(a,b,_29b.length);for(var i=0,node,l=_2a8.length;node=_29b[i];i++){for(var j=0;j<l;j++){if(node.nodeIndex==_2a8[j]){_2a1.push(node);}}}}}h.unmark(_29b);h.unmark(_2a2);return _2a1;},"empty":function(_2ab,_2ac,root){for(var i=0,_2af=[],node;node=_2ab[i];i++){if(node.tagName=="!"||(node.firstChild&&!node.innerHTML.match(/^\s*$/))){continue;}_2af.push(node);}return _2af;},"not":function(_2b1,_2b2,root){var h=Selector.handlers,_2b5,m;var _2b7=new Selector(_2b2).findElements(root);h.mark(_2b7);for(var i=0,_2b9=[],node;node=_2b1[i];i++){if(!node._counted){_2b9.push(node);}}h.unmark(_2b7);return _2b9;},"enabled":function(_2bb,_2bc,root){for(var i=0,_2bf=[],node;node=_2bb[i];i++){if(!node.disabled){_2bf.push(node);}}return _2bf;},"disabled":function(_2c1,_2c2,root){for(var i=0,_2c5=[],node;node=_2c1[i];i++){if(node.disabled){_2c5.push(node);}}return _2c5;},"checked":function(_2c7,_2c8,root){for(var i=0,_2cb=[],node;node=_2c7[i];i++){if(node.checked){_2cb.push(node);}}return _2cb;}},operators:{"=":function(nv,v){return nv==v;},"!=":function(nv,v){return nv!=v;},"^=":function(nv,v){return nv.startsWith(v);},"$=":function(nv,v){return nv.endsWith(v);},"*=":function(nv,v){return nv.include(v);},"~=":function(nv,v){return (" "+nv+" ").include(" "+v+" ");},"|=":function(nv,v){return ("-"+nv.toUpperCase()+"-").include("-"+v.toUpperCase()+"-");}},matchElements:function(_2db,_2dc){var _2dd=new Selector(_2dc).findElements(),h=Selector.handlers;h.mark(_2dd);for(var i=0,_2e0=[],_2e1;_2e1=_2db[i];i++){if(_2e1._counted){_2e0.push(_2e1);}}h.unmark(_2dd);return _2e0;},findElement:function(_2e2,_2e3,_2e4){if(typeof _2e3=="number"){_2e4=_2e3;_2e3=false;}return Selector.matchElements(_2e2,_2e3||"*")[_2e4||0];},findChildElements:function(_2e5,_2e6){var _2e7=_2e6.join(","),_2e6=[];_2e7.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(m){_2e6.push(m[1].strip());});var _2e9=[],h=Selector.handlers;for(var i=0,l=_2e6.length,_2ed;i<l;i++){_2ed=new Selector(_2e6[i].strip());h.concat(_2e9,_2ed.findElements(_2e5));}return (l>1)?h.unique(_2e9):_2e9;}});function $$(){return Selector.findChildElements(document,$A(arguments));};var Form={reset:function(form){$(form).reset();return form;},serializeElements:function(_2ef,_2f0){var data=_2ef.inject({},function(_2f2,_2f3){if(!_2f3.disabled&&_2f3.name){var key=_2f3.name,_2f5=$(_2f3).getValue();if(_2f5!=null){if(key in _2f2){if(_2f2[key].constructor!=Array){_2f2[key]=[_2f2[key]];}_2f2[key].push(_2f5);}else{_2f2[key]=_2f5;}}}return _2f2;});return _2f0?data:Hash.toQueryString(data);}};Form.Methods={serialize:function(form,_2f7){return Form.serializeElements(Form.getElements(form),_2f7);},getElements:function(form){return $A($(form).getElementsByTagName("*")).inject([],function(_2f9,_2fa){if(Form.Element.Serializers[_2fa.tagName.toLowerCase()]){_2f9.push(Element.extend(_2fa));}return _2f9;});},getInputs:function(form,_2fc,name){form=$(form);var _2fe=form.getElementsByTagName("input");if(!_2fc&&!name){return $A(_2fe).map(Element.extend);}for(var i=0,_300=[],_301=_2fe.length;i<_301;i++){var _302=_2fe[i];if((_2fc&&_302.type!=_2fc)||(name&&_302.name!=name)){continue;}_300.push(Element.extend(_302));}return _300;},disable:function(form){form=$(form);Form.getElements(form).invoke("disable");return form;},enable:function(form){form=$(form);Form.getElements(form).invoke("enable");return form;},findFirstElement:function(form){return $(form).getElements().find(function(_306){return _306.type!="hidden"&&!_306.disabled&&["input","select","textarea"].include(_306.tagName.toLowerCase());});},focusFirstElement:function(form){form=$(form);form.findFirstElement().activate();return form;},request:function(form,_309){form=$(form),_309=Object.clone(_309||{});var _30a=_309.parameters;_309.parameters=form.serialize(true);if(_30a){if(typeof _30a=="string"){_30a=_30a.toQueryParams();}Object.extend(_309.parameters,_30a);}if(form.hasAttribute("method")&&!_309.method){_309.method=form.method;}return new Ajax.Request(form.readAttribute("action"),_309);}};Form.Element={focus:function(_30b){$(_30b).focus();return _30b;},select:function(_30c){$(_30c).select();return _30c;}};Form.Element.Methods={serialize:function(_30d){_30d=$(_30d);if(!_30d.disabled&&_30d.name){var _30e=_30d.getValue();if(_30e!=undefined){var pair={};pair[_30d.name]=_30e;return Hash.toQueryString(pair);}}return "";},getValue:function(_310){_310=$(_310);var _311=_310.tagName.toLowerCase();return Form.Element.Serializers[_311](_310);},clear:function(_312){$(_312).value="";return _312;},present:function(_313){return $(_313).value!="";},activate:function(_314){_314=$(_314);try{_314.focus();if(_314.select&&(_314.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(_314.type))){_314.select();}}catch(e){}return _314;},disable:function(_315){_315=$(_315);_315.blur();_315.disabled=true;return _315;},enable:function(_316){_316=$(_316);_316.disabled=false;return _316;}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers={input:function(_317){switch(_317.type.toLowerCase()){case "checkbox":case "radio":return Form.Element.Serializers.inputSelector(_317);default:return Form.Element.Serializers.textarea(_317);}},inputSelector:function(_318){return _318.checked?_318.value:null;},textarea:function(_319){return _319.value;},select:function(_31a){return this[_31a.type=="select-one"?"selectOne":"selectMany"](_31a);},selectOne:function(_31b){var _31c=_31b.selectedIndex;return _31c>=0?this.optionValue(_31b.options[_31c]):null;},selectMany:function(_31d){var _31e,_31f=_31d.length;if(!_31f){return null;}for(var i=0,_31e=[];i<_31f;i++){var opt=_31d.options[i];if(opt.selected){_31e.push(this.optionValue(opt));}}return _31e;},optionValue:function(opt){return Element.extend(opt).hasAttribute("value")?opt.value:opt.text;}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(_323,_324,_325){this.frequency=_324;this.element=$(_323);this.callback=_325;this.lastValue=this.getValue();this.registerCallback();},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},onTimerEvent:function(){var _326=this.getValue();var _327=("string"==typeof this.lastValue&&"string"==typeof _326?this.lastValue!=_326:String(this.lastValue)!=String(_326));if(_327){this.callback(this.element,_326);this.lastValue=_326;}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(_328,_329){this.element=$(_328);this.callback=_329;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks();}else{this.registerCallback(this.element);}},onElementEvent:function(){var _32a=this.getValue();if(this.lastValue!=_32a){this.callback(this.element,_32a);this.lastValue=_32a;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this));},registerCallback:function(_32b){if(_32b.type){switch(_32b.type.toLowerCase()){case "checkbox":case "radio":Event.observe(_32b,"click",this.onElementEvent.bind(this));break;default:Event.observe(_32b,"change",this.onElementEvent.bind(this));break;}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element);}});if(!window.Event){var Event=new Object();}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(_32c){return $(_32c.target||_32c.srcElement);},isLeftClick:function(_32d){return (((_32d.which)&&(_32d.which==1))||((_32d.button)&&(_32d.button==1)));},pointerX:function(_32e){return _32e.pageX||(_32e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(_32f){return _32f.pageY||(_32f.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},stop:function(_330){if(_330.preventDefault){_330.preventDefault();_330.stopPropagation();}else{_330.returnValue=false;_330.cancelBubble=true;}},findElement:function(_331,_332){var _333=Event.element(_331);while(_333.parentNode&&(!_333.tagName||(_333.tagName.toUpperCase()!=_332.toUpperCase()))){_333=_333.parentNode;}return _333;},observers:false,_observeAndCache:function(_334,name,_336,_337){if(!this.observers){this.observers=[];}if(_334.addEventListener){this.observers.push([_334,name,_336,_337]);_334.addEventListener(name,_336,_337);}else{if(_334.attachEvent){this.observers.push([_334,name,_336,_337]);_334.attachEvent("on"+name,_336);}}},unloadCache:function(){if(!Event.observers){return;}for(var i=0,_339=Event.observers.length;i<_339;i++){Event.stopObserving.apply(this,Event.observers[i]);Event.observers[i][0]=null;}Event.observers=false;},observe:function(_33a,name,_33c,_33d){_33a=$(_33a);_33d=_33d||false;if(name=="keypress"&&(Prototype.Browser.WebKit||_33a.attachEvent)){name="keydown";}Event._observeAndCache(_33a,name,_33c,_33d);},stopObserving:function(_33e,name,_340,_341){_33e=$(_33e);_341=_341||false;if(name=="keypress"&&(Prototype.Browser.WebKit||_33e.attachEvent)){name="keydown";}if(_33e.removeEventListener){_33e.removeEventListener(name,_340,_341);}else{if(_33e.detachEvent){try{_33e.detachEvent("on"+name,_340);}catch(e){}}}}});if(Prototype.Browser.IE){Event.observe(window,"unload",Event.unloadCache,false);}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},realOffset:function(_342){var _343=0,_344=0;do{_343+=_342.scrollTop||0;_344+=_342.scrollLeft||0;_342=_342.parentNode;}while(_342);return [_344,_343];},cumulativeOffset:function(_345){var _346=0,_347=0;do{_346+=_345.offsetTop||0;_347+=_345.offsetLeft||0;_345=_345.offsetParent;}while(_345);return [_347,_346];},positionedOffset:function(_348){var _349=0,_34a=0;do{_349+=_348.offsetTop||0;_34a+=_348.offsetLeft||0;_348=_348.offsetParent;if(_348){if(_348.tagName=="BODY"){break;}var p=Element.getStyle(_348,"position");if(p=="relative"||p=="absolute"){break;}}}while(_348);return [_34a,_349];},offsetParent:function(_34c){if(_34c.offsetParent){return _34c.offsetParent;}if(_34c==document.body){return _34c;}while((_34c=_34c.parentNode)&&_34c!=document.body){if(Element.getStyle(_34c,"position")!="static"){return _34c;}}return document.body;},within:function(_34d,x,y){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(_34d,x,y);}this.xcomp=x;this.ycomp=y;this.offset=this.cumulativeOffset(_34d);return (y>=this.offset[1]&&y<this.offset[1]+_34d.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+_34d.offsetWidth);},withinIncludingScrolloffsets:function(_350,x,y){var _353=this.realOffset(_350);this.xcomp=x+_353[0]-this.deltaX;this.ycomp=y+_353[1]-this.deltaY;this.offset=this.cumulativeOffset(_350);return (this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+_350.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+_350.offsetWidth);},overlap:function(mode,_355){if(!mode){return 0;}if(mode=="vertical"){return ((this.offset[1]+_355.offsetHeight)-this.ycomp)/_355.offsetHeight;}if(mode=="horizontal"){return ((this.offset[0]+_355.offsetWidth)-this.xcomp)/_355.offsetWidth;}},page:function(_356){var _357=0,_358=0;var _359=_356;do{_357+=_359.offsetTop||0;_358+=_359.offsetLeft||0;if(_359.offsetParent==document.body){if(Element.getStyle(_359,"position")=="absolute"){break;}}}while(_359=_359.offsetParent);_359=_356;do{if(!window.opera||_359.tagName=="BODY"){_357-=_359.scrollTop||0;_358-=_359.scrollLeft||0;}}while(_359=_359.parentNode);return [_358,_357];},clone:function(_35a,_35b){var _35c=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});_35a=$(_35a);var p=Position.page(_35a);_35b=$(_35b);var _35e=[0,0];var _35f=null;if(Element.getStyle(_35b,"position")=="absolute"){_35f=Position.offsetParent(_35b);_35e=Position.page(_35f);}if(_35f==document.body){_35e[0]-=document.body.offsetLeft;_35e[1]-=document.body.offsetTop;}if(_35c.setLeft){_35b.style.left=(p[0]-_35e[0]+_35c.offsetLeft)+"px";}if(_35c.setTop){_35b.style.top=(p[1]-_35e[1]+_35c.offsetTop)+"px";}if(_35c.setWidth){_35b.style.width=_35a.offsetWidth+"px";}if(_35c.setHeight){_35b.style.height=_35a.offsetHeight+"px";}},absolutize:function(_360){_360=$(_360);if(_360.style.position=="absolute"){return;}Position.prepare();var _361=Position.positionedOffset(_360);var top=_361[1];var left=_361[0];var _364=_360.clientWidth;var _365=_360.clientHeight;_360._originalLeft=left-parseFloat(_360.style.left||0);_360._originalTop=top-parseFloat(_360.style.top||0);_360._originalWidth=_360.style.width;_360._originalHeight=_360.style.height;_360.style.position="absolute";_360.style.top=top+"px";_360.style.left=left+"px";_360.style.width=_364+"px";_360.style.height=_365+"px";},relativize:function(_366){_366=$(_366);if(_366.style.position=="relative"){return;}Position.prepare();_366.style.position="relative";var top=parseFloat(_366.style.top||0)-(_366._originalTop||0);var left=parseFloat(_366.style.left||0)-(_366._originalLeft||0);_366.style.top=top+"px";_366.style.left=left+"px";_366.style.height=_366._originalHeight;_366.style.width=_366._originalWidth;}};if(Prototype.Browser.WebKit){Position.cumulativeOffset=function(_369){var _36a=0,_36b=0;do{_36a+=_369.offsetTop||0;_36b+=_369.offsetLeft||0;if(_369.offsetParent==document.body){if(Element.getStyle(_369,"position")=="absolute"){break;}}_369=_369.offsetParent;}while(_369);return [_36b,_36a];};}Element.addMethods();String.prototype.parseColor=function(){var _36c="#";if(this.slice(0,4)=="rgb("){var cols=this.slice(4,this.length-1).split(",");var i=0;do{_36c+=parseInt(cols[i]).toColorPart();}while(++i<3);}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var i=1;i<4;i++){_36c+=(this.charAt(i)+this.charAt(i)).toLowerCase();}}if(this.length==7){_36c=this.toLowerCase();}}}return (_36c.length==7?_36c:(arguments[0]||this));};Element.collectTextNodes=function(_36f){return $A($(_36f).childNodes).collect(function(node){return (node.nodeType==3?node.nodeValue:(node.hasChildNodes()?Element.collectTextNodes(node):""));}).flatten().join("");};Element.collectTextNodesIgnoreClass=function(_371,_372){return $A($(_371).childNodes).collect(function(node){return (node.nodeType==3?node.nodeValue:((node.hasChildNodes()&&!Element.hasClassName(node,_372))?Element.collectTextNodesIgnoreClass(node,_372):""));}).flatten().join("");};Element.setContentZoom=function(_374,_375){_374=$(_374);_374.setStyle({fontSize:(_375/100)+"em"});if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0);}return _374;};Element.getOpacity=function(_376){return $(_376).getStyle("opacity");};Element.setOpacity=function(_377,_378){return $(_377).setStyle({opacity:_378});};Element.getInlineOpacity=function(_379){return $(_379).style.opacity||"";};Element.forceRerendering=function(_37a){try{_37a=$(_37a);var n=document.createTextNode(" ");_37a.appendChild(n);_37a.removeChild(n);}catch(e){}};Array.prototype.call=function(){var args=arguments;this.each(function(f){f.apply(this,args);});};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},tagifyText:function(_37e){if(typeof Builder=="undefined"){throw ("Effect.tagifyText requires including script.aculo.us' builder.js library");}var _37f="position:relative";if(/MSIE/.test(navigator.userAgent)&&!window.opera){_37f+=";zoom:1";}_37e=$(_37e);$A(_37e.childNodes).each(function(_380){if(_380.nodeType==3){_380.nodeValue.toArray().each(function(_381){_37e.insertBefore(Builder.node("span",{style:_37f},_381==" "?String.fromCharCode(160):_381),_380);});Element.remove(_380);}});},multiple:function(_382,_383){var _384;if(((typeof _382=="object")||(typeof _382=="function"))&&(_382.length)){_384=_382;}else{_384=$(_382).childNodes;}var _385=Object.extend({speed:0.1,delay:0},arguments[2]||{});var _386=_385.delay;$A(_384).each(function(_387,_388){new _383(_387,Object.extend(_385,{delay:_388*_385.speed+_386}));});},PAIRS:{"slide":["SlideDown","SlideUp"],"blind":["BlindDown","BlindUp"],"appear":["Appear","Fade"]},toggle:function(_389,_38a){_389=$(_389);_38a=(_38a||"appear").toLowerCase();var _38b=Object.extend({queue:{position:"end",scope:(_389.id||"global"),limit:1}},arguments[2]||{});Effect[_389.visible()?Effect.PAIRS[_38a][1]:Effect.PAIRS[_38a][0]](_389,_38b);}};var Effect2=Effect;Effect.Transitions={linear:Prototype.K,sinoidal:function(pos){return (-Math.cos(pos*Math.PI)/2)+0.5;},reverse:function(pos){return 1-pos;},flicker:function(pos){return ((-Math.cos(pos*Math.PI)/4)+0.75)+Math.random()/4;},wobble:function(pos){return (-Math.cos(pos*Math.PI*(9*pos))/2)+0.5;},pulse:function(pos,_391){_391=_391||5;return (Math.round((pos%(1/_391))*_391)==0?((pos*_391*2)-Math.floor(pos*_391*2)):1-((pos*_391*2)-Math.floor(pos*_391*2)));},none:function(pos){return 0;},full:function(pos){return 1;}};Effect.ScopedQueue=Class.create();Object.extend(Object.extend(Effect.ScopedQueue.prototype,Enumerable),{initialize:function(){this.effects=[];this.interval=null;},_each:function(_394){this.effects._each(_394);},add:function(_395){var _396=new Date().getTime();var _397=(typeof _395.options.queue=="string")?_395.options.queue:_395.options.queue.position;switch(_397){case "front":this.effects.findAll(function(e){return e.state=="idle";}).each(function(e){e.startOn+=_395.finishOn;e.finishOn+=_395.finishOn;});break;case "with-last":_396=this.effects.pluck("startOn").max()||_396;break;case "end":_396=this.effects.pluck("finishOn").max()||_396;break;}_395.startOn+=_396;_395.finishOn+=_396;if(!_395.options.queue.limit||(this.effects.length<_395.options.queue.limit)){this.effects.push(_395);}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15);}},remove:function(_39a){this.effects=this.effects.reject(function(e){return e==_39a;});if(this.effects.length==0){clearInterval(this.interval);this.interval=null;}},loop:function(){var _39c=new Date().getTime();for(var i=0,len=this.effects.length;i<len;i++){if(this.effects[i]){this.effects[i].loop(_39c);}}}});Effect.Queues={instances:$H(),get:function(_39f){if(typeof _39f!="string"){return _39f;}if(!this.instances[_39f]){this.instances[_39f]=new Effect.ScopedQueue();}return this.instances[_39f];}};Effect.Queue=Effect.Queues.get("global");Effect.DefaultOptions={transition:Effect.Transitions.sinoidal,duration:1,fps:60,sync:false,from:0,to:1,delay:0,queue:"parallel"};Effect.Base=function(){};Effect.Base.prototype={position:null,start:function(_3a0){this.options=Object.extend(Object.extend({},Effect.DefaultOptions),_3a0||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).add(this);}},loop:function(_3a1){if(_3a1>=this.startOn){if(_3a1>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish();}this.event("afterFinish");return;}var pos=(_3a1-this.startOn)/(this.finishOn-this.startOn);var _3a3=Math.round(pos*this.options.fps*this.options.duration);if(_3a3>this.currentFrame){this.render(pos);this.currentFrame=_3a3;}}},render:function(pos){if(this.state=="idle"){this.state="running";this.event("beforeSetup");if(this.setup){this.setup();}this.event("afterSetup");}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos*=(this.options.to-this.options.from);pos+=this.options.from;this.position=pos;this.event("beforeUpdate");if(this.update){this.update(pos);}this.event("afterUpdate");}},cancel:function(){if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).remove(this);}this.state="finished";},event:function(_3a5){if(this.options[_3a5+"Internal"]){this.options[_3a5+"Internal"](this);}if(this.options[_3a5]){this.options[_3a5](this);}},inspect:function(){var data=$H();for(property in this){if(typeof this[property]!="function"){data[property]=this[property];}}return "#<Effect:"+data.inspect()+",options:"+$H(this.options).inspect()+">";}};Effect.Parallel=Class.create();Object.extend(Object.extend(Effect.Parallel.prototype,Effect.Base.prototype),{initialize:function(_3a7){this.effects=_3a7||[];this.start(arguments[1]);},update:function(_3a8){this.effects.invoke("render",_3a8);},finish:function(_3a9){this.effects.each(function(_3aa){_3aa.render(1);_3aa.cancel();_3aa.event("beforeFinish");if(_3aa.finish){_3aa.finish(_3a9);}_3aa.event("afterFinish");});}});Effect.Event=Class.create();Object.extend(Object.extend(Effect.Event.prototype,Effect.Base.prototype),{initialize:function(){var _3ab=Object.extend({duration:0},arguments[0]||{});this.start(_3ab);},update:Prototype.emptyFunction});Effect.Opacity=Class.create();Object.extend(Object.extend(Effect.Opacity.prototype,Effect.Base.prototype),{initialize:function(_3ac){this.element=$(_3ac);if(!this.element){throw (Effect._elementDoesNotExistError);}if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}var _3ad=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(_3ad);},update:function(_3ae){this.element.setOpacity(_3ae);}});Effect.Move=Class.create();Object.extend(Object.extend(Effect.Move.prototype,Effect.Base.prototype),{initialize:function(_3af){this.element=$(_3af);if(!this.element){throw (Effect._elementDoesNotExistError);}var _3b0=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(_3b0);},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_3b1){this.element.setStyle({left:Math.round(this.options.x*_3b1+this.originalLeft)+"px",top:Math.round(this.options.y*_3b1+this.originalTop)+"px"});}});Effect.MoveBy=function(_3b2,_3b3,_3b4){return new Effect.Move(_3b2,Object.extend({x:_3b4,y:_3b3},arguments[3]||{}));};Effect.Scale=Class.create();Object.extend(Object.extend(Effect.Scale.prototype,Effect.Base.prototype),{initialize:function(_3b5,_3b6){this.element=$(_3b5);if(!this.element){throw (Effect._elementDoesNotExistError);}var _3b7=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:_3b6},arguments[2]||{});this.start(_3b7);},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(k){this.originalStyle[k]=this.element.style[k];}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var _3b9=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(_3ba){if(_3b9.indexOf(_3ba)>0){this.fontSize=parseFloat(_3b9);this.fontSizeType=_3ba;}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth];}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth];}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth];}},update:function(_3bb){var _3bc=(this.options.scaleFrom/100)+(this.factor*_3bb);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*_3bc+this.fontSizeType});}this.setDimensions(this.dims[0]*_3bc,this.dims[1]*_3bc);},finish:function(_3bd){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle);}},setDimensions:function(_3be,_3bf){var d={};if(this.options.scaleX){d.width=Math.round(_3bf)+"px";}if(this.options.scaleY){d.height=Math.round(_3be)+"px";}if(this.options.scaleFromCenter){var topd=(_3be-this.dims[0])/2;var _3c2=(_3bf-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){d.top=this.originalTop-topd+"px";}if(this.options.scaleX){d.left=this.originalLeft-_3c2+"px";}}else{if(this.options.scaleY){d.top=-topd+"px";}if(this.options.scaleX){d.left=-_3c2+"px";}}}this.element.setStyle(d);}});Effect.Highlight=Class.create();Object.extend(Object.extend(Effect.Highlight.prototype,Effect.Base.prototype),{initialize:function(_3c3){this.element=$(_3c3);if(!this.element){throw (Effect._elementDoesNotExistError);}var _3c4=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(_3c4);},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return;}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"});}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff");}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color");}this._base=$R(0,2).map(function(i){return parseInt(this.options.startcolor.slice(i*2+1,i*2+3),16);}.bind(this));this._delta=$R(0,2).map(function(i){return parseInt(this.options.endcolor.slice(i*2+1,i*2+3),16)-this._base[i];}.bind(this));},update:function(_3c7){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(m,v,i){return m+(Math.round(this._base[i]+(this._delta[i]*_3c7)).toColorPart());}.bind(this))});},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}));}});Effect.ScrollTo=Class.create();Object.extend(Object.extend(Effect.ScrollTo.prototype,Effect.Base.prototype),{initialize:function(_3cb){this.element=$(_3cb);this.start(arguments[1]||{});},setup:function(){Position.prepare();var _3cc=Position.cumulativeOffset(this.element);if(this.options.offset){_3cc[1]+=this.options.offset;}var max=window.innerHeight?window.height-window.innerHeight:document.body.scrollHeight-(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight);this.scrollStart=Position.deltaY;this.delta=(_3cc[1]>max?max:_3cc[1])-this.scrollStart;},update:function(_3ce){Position.prepare();window.scrollTo(Position.deltaX,this.scrollStart+(_3ce*this.delta));}});Effect.Fade=function(_3cf){_3cf=$(_3cf);var _3d0=_3cf.getInlineOpacity();var _3d1=Object.extend({from:_3cf.getOpacity()||1,to:0,afterFinishInternal:function(_3d2){if(_3d2.options.to!=0){return;}_3d2.element.hide().setStyle({opacity:_3d0});}},arguments[1]||{});return new Effect.Opacity(_3cf,_3d1);};Effect.Appear=function(_3d3){_3d3=$(_3d3);var _3d4=Object.extend({from:(_3d3.getStyle("display")=="none"?0:_3d3.getOpacity()||0),to:1,afterFinishInternal:function(_3d5){_3d5.element.forceRerendering();},beforeSetup:function(_3d6){_3d6.element.setOpacity(_3d6.options.from).show();}},arguments[1]||{});return new Effect.Opacity(_3d3,_3d4);};Effect.Puff=function(_3d7){_3d7=$(_3d7);var _3d8={opacity:_3d7.getInlineOpacity(),position:_3d7.getStyle("position"),top:_3d7.style.top,left:_3d7.style.left,width:_3d7.style.width,height:_3d7.style.height};return new Effect.Parallel([new Effect.Scale(_3d7,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(_3d7,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(_3d9){Position.absolutize(_3d9.effects[0].element);},afterFinishInternal:function(_3da){_3da.effects[0].element.hide().setStyle(_3d8);}},arguments[1]||{}));};Effect.BlindUp=function(_3db){_3db=$(_3db);_3db.makeClipping();return new Effect.Scale(_3db,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(_3dc){_3dc.element.hide().undoClipping();}},arguments[1]||{}));};Effect.BlindDown=function(_3dd){_3dd=$(_3dd);var _3de=_3dd.getDimensions();return new Effect.Scale(_3dd,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:_3de.height,originalWidth:_3de.width},restoreAfterFinish:true,afterSetup:function(_3df){_3df.element.makeClipping().setStyle({height:"0px"}).show();},afterFinishInternal:function(_3e0){_3e0.element.undoClipping();}},arguments[1]||{}));};Effect.SwitchOff=function(_3e1){_3e1=$(_3e1);var _3e2=_3e1.getInlineOpacity();return new Effect.Appear(_3e1,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(_3e3){new Effect.Scale(_3e3.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(_3e4){_3e4.element.makePositioned().makeClipping();},afterFinishInternal:function(_3e5){_3e5.element.hide().undoClipping().undoPositioned().setStyle({opacity:_3e2});}});}},arguments[1]||{}));};Effect.DropOut=function(_3e6){_3e6=$(_3e6);var _3e7={top:_3e6.getStyle("top"),left:_3e6.getStyle("left"),opacity:_3e6.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(_3e6,{x:0,y:100,sync:true}),new Effect.Opacity(_3e6,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(_3e8){_3e8.effects[0].element.makePositioned();},afterFinishInternal:function(_3e9){_3e9.effects[0].element.hide().undoPositioned().setStyle(_3e7);}},arguments[1]||{}));};Effect.Shake=function(_3ea){_3ea=$(_3ea);var _3eb={top:_3ea.getStyle("top"),left:_3ea.getStyle("left")};return new Effect.Move(_3ea,{x:20,y:0,duration:0.05,afterFinishInternal:function(_3ec){new Effect.Move(_3ec.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(_3ed){new Effect.Move(_3ed.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(_3ee){new Effect.Move(_3ee.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(_3ef){new Effect.Move(_3ef.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(_3f0){new Effect.Move(_3f0.element,{x:-20,y:0,duration:0.05,afterFinishInternal:function(_3f1){_3f1.element.undoPositioned().setStyle(_3eb);}});}});}});}});}});}});};Effect.SlideDown=function(_3f2){_3f2=$(_3f2).cleanWhitespace();var _3f3=_3f2.down().getStyle("bottom");var _3f4=_3f2.getDimensions();return new Effect.Scale(_3f2,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:_3f4.height,originalWidth:_3f4.width},restoreAfterFinish:true,afterSetup:function(_3f5){_3f5.element.makePositioned();_3f5.element.down().makePositioned();if(window.opera){_3f5.element.setStyle({top:""});}_3f5.element.makeClipping().setStyle({height:"0px"}).show();},afterUpdateInternal:function(_3f6){_3f6.element.down().setStyle({bottom:(_3f6.dims[0]-_3f6.element.clientHeight)+"px"});},afterFinishInternal:function(_3f7){_3f7.element.undoClipping().undoPositioned();_3f7.element.down().undoPositioned().setStyle({bottom:_3f3});}},arguments[1]||{}));};Effect.SlideUp=function(_3f8){_3f8=$(_3f8).cleanWhitespace();var _3f9=_3f8.down().getStyle("bottom");return new Effect.Scale(_3f8,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,restoreAfterFinish:true,beforeStartInternal:function(_3fa){_3fa.element.makePositioned();_3fa.element.down().makePositioned();if(window.opera){_3fa.element.setStyle({top:""});}_3fa.element.makeClipping().show();},afterUpdateInternal:function(_3fb){_3fb.element.down().setStyle({bottom:(_3fb.dims[0]-_3fb.element.clientHeight)+"px"});},afterFinishInternal:function(_3fc){_3fc.element.hide().undoClipping().undoPositioned().setStyle({bottom:_3f9});_3fc.element.down().undoPositioned();}},arguments[1]||{}));};Effect.Squish=function(_3fd){return new Effect.Scale(_3fd,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(_3fe){_3fe.element.makeClipping();},afterFinishInternal:function(_3ff){_3ff.element.hide().undoClipping();}});};Effect.Grow=function(_400){_400=$(_400);var _401=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var _402={top:_400.style.top,left:_400.style.left,height:_400.style.height,width:_400.style.width,opacity:_400.getInlineOpacity()};var dims=_400.getDimensions();var _404,_405;var _406,_407;switch(_401.direction){case "top-left":_404=_405=_406=_407=0;break;case "top-right":_404=dims.width;_405=_407=0;_406=-dims.width;break;case "bottom-left":_404=_406=0;_405=dims.height;_407=-dims.height;break;case "bottom-right":_404=dims.width;_405=dims.height;_406=-dims.width;_407=-dims.height;break;case "center":_404=dims.width/2;_405=dims.height/2;_406=-dims.width/2;_407=-dims.height/2;break;}return new Effect.Move(_400,{x:_404,y:_405,duration:0.01,beforeSetup:function(_408){_408.element.hide().makeClipping().makePositioned();},afterFinishInternal:function(_409){new Effect.Parallel([new Effect.Opacity(_409.element,{sync:true,to:1,from:0,transition:_401.opacityTransition}),new Effect.Move(_409.element,{x:_406,y:_407,sync:true,transition:_401.moveTransition}),new Effect.Scale(_409.element,100,{scaleMode:{originalHeight:dims.height,originalWidth:dims.width},sync:true,scaleFrom:window.opera?1:0,transition:_401.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(_40a){_40a.effects[0].element.setStyle({height:"0px"}).show();},afterFinishInternal:function(_40b){_40b.effects[0].element.undoClipping().undoPositioned().setStyle(_402);}},_401));}});};Effect.Shrink=function(_40c){_40c=$(_40c);var _40d=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var _40e={top:_40c.style.top,left:_40c.style.left,height:_40c.style.height,width:_40c.style.width,opacity:_40c.getInlineOpacity()};var dims=_40c.getDimensions();var _410,_411;switch(_40d.direction){case "top-left":_410=_411=0;break;case "top-right":_410=dims.width;_411=0;break;case "bottom-left":_410=0;_411=dims.height;break;case "bottom-right":_410=dims.width;_411=dims.height;break;case "center":_410=dims.width/2;_411=dims.height/2;break;}return new Effect.Parallel([new Effect.Opacity(_40c,{sync:true,to:0,from:1,transition:_40d.opacityTransition}),new Effect.Scale(_40c,window.opera?1:0,{sync:true,transition:_40d.scaleTransition,restoreAfterFinish:true}),new Effect.Move(_40c,{x:_410,y:_411,sync:true,transition:_40d.moveTransition})],Object.extend({beforeStartInternal:function(_412){_412.effects[0].element.makePositioned().makeClipping();},afterFinishInternal:function(_413){_413.effects[0].element.hide().undoClipping().undoPositioned().setStyle(_40e);}},_40d));};Effect.Pulsate=function(_414){_414=$(_414);var _415=arguments[1]||{};var _416=_414.getInlineOpacity();var _417=_415.transition||Effect.Transitions.sinoidal;var _418=function(pos){return _417(1-Effect.Transitions.pulse(pos,_415.pulses));};_418.bind(_417);return new Effect.Opacity(_414,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(_41a){_41a.element.setStyle({opacity:_416});}},_415),{transition:_418}));};Effect.Fold=function(_41b){_41b=$(_41b);var _41c={top:_41b.style.top,left:_41b.style.left,width:_41b.style.width,height:_41b.style.height};_41b.makeClipping();return new Effect.Scale(_41b,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(_41d){new Effect.Scale(_41b,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(_41e){_41e.element.hide().undoClipping().setStyle(_41c);}});}},arguments[1]||{}));};Effect.Morph=Class.create();Object.extend(Object.extend(Effect.Morph.prototype,Effect.Base.prototype),{initialize:function(_41f){this.element=$(_41f);if(!this.element){throw (Effect._elementDoesNotExistError);}var _420=Object.extend({style:{}},arguments[1]||{});if(typeof _420.style=="string"){if(_420.style.indexOf(":")==-1){var _421="",_422="."+_420.style;$A(document.styleSheets).reverse().each(function(_423){if(_423.cssRules){cssRules=_423.cssRules;}else{if(_423.rules){cssRules=_423.rules;}}$A(cssRules).reverse().each(function(rule){if(_422==rule.selectorText){_421=rule.style.cssText;throw $break;}});if(_421){throw $break;}});this.style=_421.parseStyle();_420.afterFinishInternal=function(_425){_425.element.addClassName(_425.options.style);_425.transforms.each(function(_426){if(_426.style!="opacity"){_425.element.style[_426.style.camelize()]="";}});};}else{this.style=_420.style.parseStyle();}}else{this.style=$H(_420.style);}this.start(_420);},setup:function(){function parseColor(_427){if(!_427||["rgba(0, 0, 0, 0)","transparent"].include(_427)){_427="#ffffff";}_427=_427.parseColor();return $R(0,2).map(function(i){return parseInt(_427.slice(i*2+1,i*2+3),16);});};this.transforms=this.style.map(function(pair){var _42a=pair[0].underscore().dasherize(),_42b=pair[1],unit=null;if(_42b.parseColor("#zzzzzz")!="#zzzzzz"){_42b=_42b.parseColor();unit="color";}else{if(_42a=="opacity"){_42b=parseFloat(_42b);if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}}else{if(Element.CSS_LENGTH.test(_42b)){var _42d=_42b.match(/^([\+\-]?[0-9\.]+)(.*)$/),_42b=parseFloat(_42d[1]),unit=(_42d.length==3)?_42d[2]:null;}}}var _42e=this.element.getStyle(_42a);return $H({style:_42a,originalValue:unit=="color"?parseColor(_42e):parseFloat(_42e||0),targetValue:unit=="color"?parseColor(_42b):_42b,unit:unit});}.bind(this)).reject(function(_42f){return ((_42f.originalValue==_42f.targetValue)||(_42f.unit!="color"&&(isNaN(_42f.originalValue)||isNaN(_42f.targetValue))));});},update:function(_430){var _431=$H(),_432=null;this.transforms.each(function(_433){_432=_433.unit=="color"?$R(0,2).inject("#",function(m,v,i){return m+(Math.round(_433.originalValue[i]+(_433.targetValue[i]-_433.originalValue[i])*_430)).toColorPart();}):_433.originalValue+Math.round(((_433.targetValue-_433.originalValue)*_430)*1000)/1000+_433.unit;_431[_433.style]=_432;});this.element.setStyle(_431);}});Effect.Transform=Class.create();Object.extend(Effect.Transform.prototype,{initialize:function(_437){this.tracks=[];this.options=arguments[1]||{};this.addTracks(_437);},addTracks:function(_438){_438.each(function(_439){var data=$H(_439).values().first();this.tracks.push($H({ids:$H(_439).keys().first(),effect:Effect.Morph,options:{style:data}}));}.bind(this));return this;},play:function(){return new Effect.Parallel(this.tracks.map(function(_43b){var _43c=[$(_43b.ids)||$$(_43b.ids)].flatten();return _43c.map(function(e){return new _43b.effect(e,Object.extend({sync:true},_43b.options));});}).flatten(),this.options);}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle "+"borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth "+"borderRightColor borderRightStyle borderRightWidth borderSpacing "+"borderTopColor borderTopStyle borderTopWidth bottom clip color "+"fontSize fontWeight height left letterSpacing lineHeight "+"marginBottom marginLeft marginRight marginTop markerOffset maxHeight "+"maxWidth minHeight minWidth opacity outlineColor outlineOffset "+"outlineWidth paddingBottom paddingLeft paddingRight paddingTop "+"right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.prototype.parseStyle=function(){var _43e=Element.extend(document.createElement("div"));_43e.innerHTML="<div style=\""+this+"\"></div>";var _43f=_43e.down().style,_440=$H();Element.CSS_PROPERTIES.each(function(_441){if(_43f[_441]){_440[_441]=_43f[_441];}});if(/MSIE/.test(navigator.userAgent)&&!window.opera&&this.indexOf("opacity")>-1){_440.opacity=this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1];}return _440;};Element.morph=function(_442,_443){new Effect.Morph(_442,Object.extend({style:_443},arguments[2]||{}));return _442;};["setOpacity","getOpacity","getInlineOpacity","forceRerendering","setContentZoom","collectTextNodes","collectTextNodesIgnoreClass","morph"].each(function(f){Element.Methods[f]=Element[f];});Element.Methods.visualEffect=function(_445,_446,_447){s=_446.gsub(/_/,"-").camelize();effect_class=s.charAt(0).toUpperCase()+s.substring(1);new Effect[effect_class](_445,_447);return $(_445);};Element.addMethods();Array.prototype.removeDuplicates=function(){for(var i=1;i<this.length;i++){if(this[i][0]==this[i-1][0]){this.splice(i,1);}}};Array.prototype.empty=function(){for(var i=0;i<=this.length;i++){this.shift();}};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};function LyteBox(){this.theme="blue";this.hideFlash=true;this.outerBorder=true;this.resizeSpeed=8;this.maxOpacity=80;this.navType=1;this.autoResize=true;this.doAnimations=true;this.borderSize=2;this.slideInterval=4000;this.showNavigation=true;this.showClose=true;this.showDetails=true;this.showPlayPause=true;this.autoEnd=true;this.pauseOnNextClick=false;this.pauseOnPrevClick=true;if(this.resizeSpeed>10){this.resizeSpeed=10;}if(this.resizeSpeed<1){resizeSpeed=1;}this.resizeDuration=(11-this.resizeSpeed)*0.15;this.resizeWTimerArray=new Array();this.resizeWTimerCount=0;this.resizeHTimerArray=new Array();this.resizeHTimerCount=0;this.showContentTimerArray=new Array();this.showContentTimerCount=0;this.overlayTimerArray=new Array();this.overlayTimerCount=0;this.imageTimerArray=new Array();this.imageTimerCount=0;this.timerIDArray=new Array();this.timerIDCount=0;this.slideshowIDArray=new Array();this.slideshowIDCount=0;this.imageArray=new Array();this.activeImage=null;this.slideArray=new Array();this.activeSlide=null;this.frameArray=new Array();this.activeFrame=null;this.checkFrame();this.isSlideshow=false;this.isLyteframe=false;this.ie=false;this.ie7=(this.ie&&window.XMLHttpRequest);this.initialize();};LyteBox.prototype.initialize=function(){this.updateLyteboxItems();var _44a=this.doc.getElementsByTagName("body").item(0);if(this.doc.getElementById("lbOverlay")){_44a.removeChild(this.doc.getElementById("lbOverlay"));_44a.removeChild(this.doc.getElementById("lbMain"));}var _44b=this.doc.createElement("div");_44b.setAttribute("id","lbOverlay");_44b.setAttribute((this.ie?"className":"class"),this.theme);if((this.ie&&!this.ie7)||(this.ie7&&this.doc.compatMode=="BackCompat")){_44b.style.position="absolute";}_44b.style.display="none";_44a.appendChild(_44b);var _44c=this.doc.createElement("div");_44c.setAttribute("id","lbMain");_44c.style.display="none";_44a.appendChild(_44c);var _44d=this.doc.createElement("div");_44d.setAttribute("id","lbOuterContainer");_44d.setAttribute((this.ie?"className":"class"),this.theme);_44c.appendChild(_44d);var _44e=this.doc.createElement("div");_44e.setAttribute("id","lbIframeContainer");_44e.style.display="none";_44d.appendChild(_44e);var _44f=this.doc.createElement("iframe");_44f.setAttribute("id","lbIframe");_44f.setAttribute("name","lbIframe");_44f.style.display="none";_44e.appendChild(_44f);var _450=this.doc.createElement("div");_450.setAttribute("id","lbImageContainer");_44d.appendChild(_450);var _451=this.doc.createElement("img");_451.setAttribute("id","lbImage");_450.appendChild(_451);var _452=this.doc.createElement("div");_452.setAttribute("id","lbLoading");_44d.appendChild(_452);var _453=this.doc.createElement("div");_453.setAttribute("id","lbDetailsContainer");_453.setAttribute((this.ie?"className":"class"),this.theme);_44c.appendChild(_453);var _454=this.doc.createElement("div");_454.setAttribute("id","lbDetailsData");_454.setAttribute((this.ie?"className":"class"),this.theme);_453.appendChild(_454);var _455=this.doc.createElement("div");_455.setAttribute("id","lbDetails");_454.appendChild(_455);var _456=this.doc.createElement("span");_456.setAttribute("id","lbCaption");_455.appendChild(_456);var _457=this.doc.createElement("div");_457.setAttribute("id","lbHoverNav");_450.appendChild(_457);var _458=this.doc.createElement("div");_458.setAttribute("id","lbBottomNav");_454.appendChild(_458);var _459=this.doc.createElement("a");_459.setAttribute("id","lbPrev");_459.setAttribute((this.ie?"className":"class"),this.theme);_459.setAttribute("href","#");_457.appendChild(_459);var _45a=this.doc.createElement("a");_45a.setAttribute("id","lbNext");_45a.setAttribute((this.ie?"className":"class"),this.theme);_45a.setAttribute("href","#");_457.appendChild(_45a);var _45b=this.doc.createElement("span");_45b.setAttribute("id","lbNumberDisplay");_455.appendChild(_45b);var _45c=this.doc.createElement("span");_45c.setAttribute("id","lbNavDisplay");_45c.style.display="none";_455.appendChild(_45c);var _45d=this.doc.createElement("a");_45d.setAttribute("id","lbClose");_45d.setAttribute((this.ie?"className":"class"),this.theme);_45d.setAttribute("href","#");_458.appendChild(_45d);var _45e=this.doc.createElement("a");_45e.setAttribute("id","lbPause");_45e.setAttribute((this.ie?"className":"class"),this.theme);_45e.setAttribute("href","#");_45e.style.display="none";_458.appendChild(_45e);var _45f=this.doc.createElement("a");_45f.setAttribute("id","lbPlay");_45f.setAttribute((this.ie?"className":"class"),this.theme);_45f.setAttribute("href","#");_45f.style.display="none";_458.appendChild(_45f);};LyteBox.prototype.updateLyteboxItems=function(){var _460=(this.isFrame)?window.parent.frames[window.name].document.getElementsByTagName("a"):document.getElementsByTagName("a");for(var i=0;i<_460.length;i++){var _462=_460[i];var _463=String(_462.getAttribute("rel"));if(_462.getAttribute("href")){if(_463.toLowerCase().match("lytebox")){_462.onclick=function(){myLytebox.start(this,false,false);return false;};}else{if(_463.toLowerCase().match("lyteshow")){_462.onclick=function(){myLytebox.start(this,true,false);return false;};}else{if(_463.toLowerCase().match("lyteframe")){_462.onclick=function(){myLytebox.start(this,false,true);return false;};}}}}}};LyteBox.prototype.start=function(_464,_465,_466){if(this.ie&&!this.ie7){this.toggleSelects("hide");}if(this.hideFlash){this.toggleFlash("hide");}this.isLyteframe=(_466?true:false);var _467=this.getPageSize();var _468=this.doc.getElementById("lbOverlay");var _469=this.doc.getElementsByTagName("body").item(0);_468.style.height=_467[1]+"px";_468.style.display="";this.appear("lbOverlay",(this.doAnimations?0:this.maxOpacity));var _46a=(this.isFrame)?window.parent.frames[window.name].document.getElementsByTagName("a"):document.getElementsByTagName("a");if(this.isLyteframe){this.frameArray=[];this.frameNum=0;if((_464.getAttribute("rel")=="lyteframe")){var rev=_464.getAttribute("rev");this.frameArray.push(new Array(_464.getAttribute("href"),_464.getAttribute("title"),(rev==null||rev==""?"width: 400px; height: 400px; scrolling: auto;":rev)));}else{if(_464.getAttribute("rel").indexOf("lyteframe")!=-1){for(var i=0;i<_46a.length;i++){var _46d=_46a[i];if(_46d.getAttribute("href")&&(_46d.getAttribute("rel")==_464.getAttribute("rel"))){var rev=_46d.getAttribute("rev");this.frameArray.push(new Array(_46d.getAttribute("href"),_46d.getAttribute("title"),(rev==null||rev==""?"width: 400px; height: 400px; scrolling: auto;":rev)));}}this.frameArray.removeDuplicates();while(this.frameArray[this.frameNum][0]!=_464.getAttribute("href")){this.frameNum++;}}}}else{this.imageArray=[];this.imageNum=0;this.slideArray=[];this.slideNum=0;if((_464.getAttribute("rel")=="lytebox")){this.imageArray.push(new Array(_464.getAttribute("href"),_464.getAttribute("title")));}else{if(_464.getAttribute("rel").indexOf("lytebox")!=-1){for(var i=0;i<_46a.length;i++){var _46d=_46a[i];if(_46d.getAttribute("href")&&(_46d.getAttribute("rel")==_464.getAttribute("rel"))){this.imageArray.push(new Array(_46d.getAttribute("href"),_46d.getAttribute("title")));}}this.imageArray.removeDuplicates();while(this.imageArray[this.imageNum][0]!=_464.getAttribute("href")){this.imageNum++;}}if(_464.getAttribute("rel").indexOf("lyteshow")!=-1){for(var i=0;i<_46a.length;i++){var _46d=_46a[i];if(_46d.getAttribute("href")&&(_46d.getAttribute("rel")==_464.getAttribute("rel"))){this.slideArray.push(new Array(_46d.getAttribute("href"),_46d.getAttribute("title")));}}this.slideArray.removeDuplicates();while(this.slideArray[this.slideNum][0]!=_464.getAttribute("href")){this.slideNum++;}}}}var _46e=this.doc.getElementById("lbMain");_46e.style.top=(this.getPageScroll()+(_467[3]/15))+"px";_46e.style.display="";if(!this.outerBorder){this.doc.getElementById("lbOuterContainer").style.border="none";this.doc.getElementById("lbDetailsContainer").style.border="none";}else{this.doc.getElementById("lbOuterContainer").style.borderBottom="";this.doc.getElementById("lbOuterContainer").setAttribute((this.ie?"className":"class"),this.theme);}this.doc.getElementById("lbOverlay").onclick=function(){myLytebox.end();return false;};this.doc.getElementById("lbMain").onclick=function(e){var e=e;if(!e){if(window.parent.frames[window.name]&&(parent.document.getElementsByTagName("frameset").length<=0)){e=window.parent.window.event;}else{e=window.event;}}var id=(e.target?e.target.id:e.srcElement.id);if(id=="lbMain"){myLytebox.end();return false;}};this.doc.getElementById("lbClose").onclick=function(){myLytebox.end();return false;};this.doc.getElementById("lbPause").onclick=function(){myLytebox.togglePlayPause("lbPause","lbPlay");return false;};this.doc.getElementById("lbPlay").onclick=function(){myLytebox.togglePlayPause("lbPlay","lbPause");return false;};this.isSlideshow=_465;this.isPaused=(this.slideNum!=0?true:false);if(this.isSlideshow&&this.showPlayPause&&this.isPaused){this.doc.getElementById("lbPlay").style.display="";this.doc.getElementById("lbPause").style.display="none";}if(this.isLyteframe){this.changeContent(this.frameNum);}else{if(this.isSlideshow){this.changeContent(this.slideNum);}else{this.changeContent(this.imageNum);}}};LyteBox.prototype.changeContent=function(_471){if(this.isSlideshow){for(var i=0;i<this.slideshowIDCount;i++){window.clearTimeout(this.slideshowIDArray[i]);}}this.activeImage=this.activeSlide=this.activeFrame=_471;if(!this.outerBorder){this.doc.getElementById("lbOuterContainer").style.border="none";this.doc.getElementById("lbDetailsContainer").style.border="none";}else{this.doc.getElementById("lbOuterContainer").style.borderBottom="";this.doc.getElementById("lbOuterContainer").setAttribute((this.ie?"className":"class"),this.theme);}this.doc.getElementById("lbLoading").style.display="";this.doc.getElementById("lbImage").style.display="none";this.doc.getElementById("lbIframe").style.display="none";this.doc.getElementById("lbPrev").style.display="none";this.doc.getElementById("lbNext").style.display="none";this.doc.getElementById("lbIframeContainer").style.display="none";this.doc.getElementById("lbDetailsContainer").style.display="none";this.doc.getElementById("lbNumberDisplay").style.display="none";if(this.navType==2||this.isLyteframe){object=this.doc.getElementById("lbNavDisplay");object.innerHTML="&nbsp;&nbsp;&nbsp;<span id=\"lbPrev2_Off\" style=\"display: none;\" class=\""+this.theme+"\">&laquo; prev</span><a href=\"#\" id=\"lbPrev2\" class=\""+this.theme+"\" style=\"display: none;\">&laquo; prev</a> <b id=\"lbSpacer\" class=\""+this.theme+"\">||</b> <span id=\"lbNext2_Off\" style=\"display: none;\" class=\""+this.theme+"\">next &raquo;</span><a href=\"#\" id=\"lbNext2\" class=\""+this.theme+"\" style=\"display: none;\">next &raquo;</a>";object.style.display="none";}if(this.isLyteframe){var _473=myLytebox.doc.getElementById("lbIframe");var _474=this.frameArray[this.activeFrame][2];var _475=_474.split(";");for(var i=0;i<_475.length;i++){if(_475[i].indexOf("width:")>=0){var w=_475[i].replace("width:","");_473.width=w.trim();}else{if(_475[i].indexOf("height:")>=0){var h=_475[i].replace("height:","");_473.height=h.trim();}else{if(_475[i].indexOf("scrolling:")>=0){var s=_475[i].replace("scrolling:","");_473.scrolling=s.trim();}else{if(_475[i].indexOf("border:")>=0){}}}}}this.resizeContainer(parseInt(_473.width),parseInt(_473.height));}else{imgPreloader=new Image();imgPreloader.onload=function(){var _479=imgPreloader.width;var _47a=imgPreloader.height;if(myLytebox.autoResize){var _47b=myLytebox.getPageSize();var x=_47b[2]-150;var y=_47b[3]-150;if(_479>x){_47a=Math.round(_47a*(x/_479));_479=x;if(_47a>y){_479=Math.round(_479*(y/_47a));_47a=y;}}else{if(_47a>y){_479=Math.round(_479*(y/_47a));_47a=y;if(_479>x){_47a=Math.round(_47a*(x/_479));_479=x;}}}}var _47e=myLytebox.doc.getElementById("lbImage");_47e.src=(myLytebox.isSlideshow?myLytebox.slideArray[myLytebox.activeSlide][0]:myLytebox.imageArray[myLytebox.activeImage][0]);_47e.width=_479;_47e.height=_47a;myLytebox.resizeContainer(_479,_47a);imgPreloader.onload=function(){};};imgPreloader.src=(this.isSlideshow?this.slideArray[this.activeSlide][0]:this.imageArray[this.activeImage][0]);}};LyteBox.prototype.resizeContainer=function(_47f,_480){this.wCur=this.doc.getElementById("lbOuterContainer").offsetWidth;this.hCur=this.doc.getElementById("lbOuterContainer").offsetHeight;this.xScale=((_47f+(this.borderSize*2))/this.wCur)*100;this.yScale=((_480+(this.borderSize*2))/this.hCur)*100;var _481=(this.wCur-this.borderSize*2)-_47f;var _482=(this.hCur-this.borderSize*2)-_480;if(!(_482==0)){this.hDone=false;this.resizeH("lbOuterContainer",this.hCur,_480+this.borderSize*2,this.getPixelRate(this.hCur,_480));}else{this.hDone=true;}if(!(_481==0)){this.wDone=false;this.resizeW("lbOuterContainer",this.wCur,_47f+this.borderSize*2,this.getPixelRate(this.wCur,_47f));}else{this.wDone=true;}if((_482==0)&&(_481==0)){if(this.ie){this.pause(250);}else{this.pause(100);}}this.doc.getElementById("lbPrev").style.height=_480+"px";this.doc.getElementById("lbNext").style.height=_480+"px";this.doc.getElementById("lbDetailsContainer").style.width=(_47f+(this.borderSize*2)+(this.ie&&this.doc.compatMode=="BackCompat"&&this.outerBorder?2:0))+"px";this.showContent();};LyteBox.prototype.showContent=function(){if(this.wDone&&this.hDone){for(var i=0;i<this.showContentTimerCount;i++){window.clearTimeout(this.showContentTimerArray[i]);}if(this.outerBorder){this.doc.getElementById("lbOuterContainer").style.borderBottom="none";}this.doc.getElementById("lbLoading").style.display="none";if(this.isLyteframe){this.doc.getElementById("lbIframe").style.display="";this.appear("lbIframe",(this.doAnimations?0:100));}else{this.doc.getElementById("lbImage").style.display="";this.appear("lbImage",(this.doAnimations?0:100));this.preloadNeighborImages();}if(this.isSlideshow){if(this.activeSlide==(this.slideArray.length-1)){if(this.autoEnd){this.slideshowIDArray[this.slideshowIDCount++]=setTimeout("myLytebox.end('slideshow')",this.slideInterval);}}else{if(!this.isPaused){this.slideshowIDArray[this.slideshowIDCount++]=setTimeout("myLytebox.changeContent("+(this.activeSlide+1)+")",this.slideInterval);}}this.doc.getElementById("lbHoverNav").style.display=(this.showNavigation&&this.navType==1?"":"none");this.doc.getElementById("lbClose").style.display=(this.showClose?"":"none");this.doc.getElementById("lbDetails").style.display=(this.showDetails?"":"none");this.doc.getElementById("lbPause").style.display=(this.showPlayPause&&!this.isPaused?"":"none");this.doc.getElementById("lbPlay").style.display=(this.showPlayPause&&!this.isPaused?"none":"");this.doc.getElementById("lbNavDisplay").style.display=(this.showNavigation&&this.navType==2?"":"none");}else{this.doc.getElementById("lbHoverNav").style.display=(this.navType==1&&!this.isLyteframe?"":"none");if((this.navType==2&&!this.isLyteframe&&this.imageArray.length>1)||(this.frameArray.length>1&&this.isLyteframe)){this.doc.getElementById("lbNavDisplay").style.display="";}else{this.doc.getElementById("lbNavDisplay").style.display="none";}this.doc.getElementById("lbClose").style.display="";this.doc.getElementById("lbDetails").style.display="";this.doc.getElementById("lbPause").style.display="none";this.doc.getElementById("lbPlay").style.display="none";}this.doc.getElementById("lbImageContainer").style.display=(this.isLyteframe?"none":"");this.doc.getElementById("lbIframeContainer").style.display=(this.isLyteframe?"":"none");try{this.doc.getElementById("lbIframe").src=this.frameArray[this.activeFrame][0];}catch(e){}}else{this.showContentTimerArray[this.showContentTimerCount++]=setTimeout("myLytebox.showContent()",200);}};LyteBox.prototype.updateDetails=function(){var _484=this.doc.getElementById("lbCaption");var _485=(this.isSlideshow?this.slideArray[this.activeSlide][1]:(this.isLyteframe?this.frameArray[this.activeFrame][1]:this.imageArray[this.activeImage][1]));_484.style.display="";_484.innerHTML=(_485==null?"":_485);this.updateNav();this.doc.getElementById("lbDetailsContainer").style.display="";_484=this.doc.getElementById("lbNumberDisplay");if(this.isSlideshow&&this.slideArray.length>1){_484.style.display="";_484.innerHTML="Image "+eval(this.activeSlide+1)+" of "+this.slideArray.length;this.doc.getElementById("lbNavDisplay").style.display=(this.navType==2&&this.showNavigation?"":"none");}else{if(this.imageArray.length>1&&!this.isLyteframe){_484.style.display="";_484.innerHTML="Image "+eval(this.activeImage+1)+" of "+this.imageArray.length;this.doc.getElementById("lbNavDisplay").style.display=(this.navType==2?"":"none");}else{if(this.frameArray.length>1&&this.isLyteframe){_484.style.display="";_484.innerHTML="Page "+eval(this.activeFrame+1)+" of "+this.frameArray.length;this.doc.getElementById("lbNavDisplay").style.display="";}else{this.doc.getElementById("lbNavDisplay").style.display="none";}}}this.appear("lbDetailsContainer",(this.doAnimations?0:100));};LyteBox.prototype.updateNav=function(){if(this.isSlideshow){if(this.activeSlide!=0){var _486=(this.navType==2?this.doc.getElementById("lbPrev2"):this.doc.getElementById("lbPrev"));_486.style.display="";_486.onclick=function(){if(myLytebox.pauseOnPrevClick){myLytebox.togglePlayPause("lbPause","lbPlay");}myLytebox.changeContent(myLytebox.activeSlide-1);return false;};}else{if(this.navType==2){this.doc.getElementById("lbPrev2_Off").style.display="";}}if(this.activeSlide!=(this.slideArray.length-1)){var _486=(this.navType==2?this.doc.getElementById("lbNext2"):this.doc.getElementById("lbNext"));_486.style.display="";_486.onclick=function(){if(myLytebox.pauseOnNextClick){myLytebox.togglePlayPause("lbPause","lbPlay");}myLytebox.changeContent(myLytebox.activeSlide+1);return false;};}else{if(this.navType==2){this.doc.getElementById("lbNext2_Off").style.display="";}}}else{if(this.isLyteframe){if(this.activeFrame!=0){var _486=this.doc.getElementById("lbPrev2");_486.style.display="";_486.onclick=function(){myLytebox.changeContent(myLytebox.activeFrame-1);return false;};}else{this.doc.getElementById("lbPrev2_Off").style.display="";}if(this.activeFrame!=(this.frameArray.length-1)){var _486=this.doc.getElementById("lbNext2");_486.style.display="";_486.onclick=function(){myLytebox.changeContent(myLytebox.activeFrame+1);return false;};}else{this.doc.getElementById("lbNext2_Off").style.display="";}}else{if(this.activeImage!=0){var _486=(this.navType==2?this.doc.getElementById("lbPrev2"):this.doc.getElementById("lbPrev"));_486.style.display="";_486.onclick=function(){myLytebox.changeContent(myLytebox.activeImage-1);return false;};}else{if(this.navType==2){this.doc.getElementById("lbPrev2_Off").style.display="";}}if(this.activeImage!=(this.imageArray.length-1)){var _486=(this.navType==2?this.doc.getElementById("lbNext2"):this.doc.getElementById("lbNext"));_486.style.display="";_486.onclick=function(){myLytebox.changeContent(myLytebox.activeImage+1);return false;};}else{if(this.navType==2){this.doc.getElementById("lbNext2_Off").style.display="";}}}}this.enableKeyboardNav();};LyteBox.prototype.enableKeyboardNav=function(){document.onkeydown=this.keyboardAction;};LyteBox.prototype.disableKeyboardNav=function(){document.onkeydown="";};LyteBox.prototype.keyboardAction=function(e){var _488=key=escape=null;_488=(e==null)?event.keyCode:e.which;key=String.fromCharCode(_488).toLowerCase();escape=(e==null)?27:e.DOM_VK_ESCAPE;if((key=="x")||(key=="c")||(_488==escape)){myLytebox.end();}else{if((key=="p")||(_488==37)){if(myLytebox.isSlideshow){if(myLytebox.activeSlide!=0){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeSlide-1);}}else{if(myLytebox.isLyteframe){if(myLytebox.activeFrame!=0){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeFrame-1);}}else{if(myLytebox.activeImage!=0){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeImage-1);}}}}else{if((key=="n")||(_488==39)){if(myLytebox.isSlideshow){if(myLytebox.activeSlide!=(myLytebox.slideArray.length-1)){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeSlide+1);}}else{if(myLytebox.isLyteframe){if(myLytebox.activeFrame!=(myLytebox.frameArray.length-1)){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeFrame+1);}}else{if(myLytebox.activeImage!=(myLytebox.imageArray.length-1)){myLytebox.disableKeyboardNav();myLytebox.changeContent(myLytebox.activeImage+1);}}}}}}};LyteBox.prototype.preloadNeighborImages=function(){if(this.isSlideshow){if((this.slideArray.length-1)>this.activeSlide){preloadNextImage=new Image();preloadNextImage.src=this.slideArray[this.activeSlide+1][0];}if(this.activeSlide>0){preloadPrevImage=new Image();preloadPrevImage.src=this.slideArray[this.activeSlide-1][0];}}else{if((this.imageArray.length-1)>this.activeImage){preloadNextImage=new Image();preloadNextImage.src=this.imageArray[this.activeImage+1][0];}if(this.activeImage>0){preloadPrevImage=new Image();preloadPrevImage.src=this.imageArray[this.activeImage-1][0];}}};LyteBox.prototype.togglePlayPause=function(_489,_48a){if(this.isSlideshow&&_489=="lbPause"){for(var i=0;i<this.slideshowIDCount;i++){window.clearTimeout(this.slideshowIDArray[i]);}}this.doc.getElementById(_489).style.display="none";this.doc.getElementById(_48a).style.display="";if(_489=="lbPlay"){this.isPaused=false;if(this.activeSlide==(this.slideArray.length-1)){this.end();}else{this.changeContent(this.activeSlide+1);}}else{this.isPaused=true;}};LyteBox.prototype.end=function(_48c){var _48d=(_48c=="slideshow"?false:true);if(this.isSlideshow&&this.isPaused&&!_48d){return;}this.disableKeyboardNav();this.doc.getElementById("lbMain").style.display="none";this.fade("lbOverlay",(this.doAnimations?this.maxOpacity:0));this.toggleSelects("visible");if(this.hideFlash){this.toggleFlash("visible");}if(this.isSlideshow){for(var i=0;i<this.slideshowIDCount;i++){window.clearTimeout(this.slideshowIDArray[i]);}}if(this.isLyteframe){this.initialize();}};LyteBox.prototype.checkFrame=function(){if(window.parent.frames[window.name]&&(parent.document.getElementsByTagName("frameset").length<=0)){this.isFrame=true;this.lytebox="window.parent."+window.name+".myLytebox";this.doc=parent.document;}else{this.isFrame=false;this.lytebox="myLytebox";this.doc=document;}};LyteBox.prototype.getPixelRate=function(cur,img){var diff=(img>cur)?img-cur:cur-img;if(diff>=0&&diff<=100){return 10;}if(diff>100&&diff<=200){return 15;}if(diff>200&&diff<=300){return 20;}if(diff>300&&diff<=400){return 25;}if(diff>400&&diff<=500){return 30;}if(diff>500&&diff<=600){return 35;}if(diff>600&&diff<=700){return 40;}if(diff>700){return 45;}};LyteBox.prototype.appear=function(id,_493){var _494=this.doc.getElementById(id).style;_494.opacity=(_493/100);_494.MozOpacity=(_493/100);_494.KhtmlOpacity=(_493/100);_494.filter="alpha(opacity="+(_493+10)+")";if(_493==100&&(id=="lbImage"||id=="lbIframe")){try{_494.removeAttribute("filter");}catch(e){}this.updateDetails();}else{if(_493>=this.maxOpacity&&id=="lbOverlay"){for(var i=0;i<this.overlayTimerCount;i++){window.clearTimeout(this.overlayTimerArray[i]);}return;}else{if(_493>=100&&id=="lbDetailsContainer"){try{_494.removeAttribute("filter");}catch(e){}for(var i=0;i<this.imageTimerCount;i++){window.clearTimeout(this.imageTimerArray[i]);}this.doc.getElementById("lbOverlay").style.height=this.getPageSize()[1]+"px";}else{if(id=="lbOverlay"){this.overlayTimerArray[this.overlayTimerCount++]=setTimeout("myLytebox.appear('"+id+"', "+(_493+20)+")",1);}else{this.imageTimerArray[this.imageTimerCount++]=setTimeout("myLytebox.appear('"+id+"', "+(_493+10)+")",1);}}}}};LyteBox.prototype.fade=function(id,_497){var _498=this.doc.getElementById(id).style;_498.opacity=(_497/100);_498.MozOpacity=(_497/100);_498.KhtmlOpacity=(_497/100);_498.filter="alpha(opacity="+_497+")";if(_497<=0){try{_498.display="none";}catch(err){}}else{if(id=="lbOverlay"){this.overlayTimerArray[this.overlayTimerCount++]=setTimeout("myLytebox.fade('"+id+"', "+(_497-20)+")",1);}else{this.timerIDArray[this.timerIDCount++]=setTimeout("myLytebox.fade('"+id+"', "+(_497-10)+")",1);}}};LyteBox.prototype.resizeW=function(id,curW,maxW,_49c,_49d){if(!this.hDone){this.resizeWTimerArray[this.resizeWTimerCount++]=setTimeout("myLytebox.resizeW('"+id+"', "+curW+", "+maxW+", "+_49c+")",100);return;}var _49e=this.doc.getElementById(id);var _49f=_49d?_49d:(this.resizeDuration/2);var newW=(this.doAnimations?curW:maxW);_49e.style.width=(newW)+"px";if(newW<maxW){newW+=(newW+_49c>=maxW)?(maxW-newW):_49c;}else{if(newW>maxW){newW-=(newW-_49c<=maxW)?(newW-maxW):_49c;}}this.resizeWTimerArray[this.resizeWTimerCount++]=setTimeout("myLytebox.resizeW('"+id+"', "+newW+", "+maxW+", "+_49c+", "+(_49f+0.02)+")",_49f+0.02);if(parseInt(_49e.style.width)==maxW){this.wDone=true;for(var i=0;i<this.resizeWTimerCount;i++){window.clearTimeout(this.resizeWTimerArray[i]);}}};LyteBox.prototype.resizeH=function(id,curH,maxH,_4a5,_4a6){var _4a7=_4a6?_4a6:(this.resizeDuration/2);var _4a8=this.doc.getElementById(id);var newH=(this.doAnimations?curH:maxH);_4a8.style.height=(newH)+"px";if(newH<maxH){newH+=(newH+_4a5>=maxH)?(maxH-newH):_4a5;}else{if(newH>maxH){newH-=(newH-_4a5<=maxH)?(newH-maxH):_4a5;}}this.resizeHTimerArray[this.resizeHTimerCount++]=setTimeout("myLytebox.resizeH('"+id+"', "+newH+", "+maxH+", "+_4a5+", "+(_4a7+0.02)+")",_4a7+0.02);if(parseInt(_4a8.style.height)==maxH){this.hDone=true;for(var i=0;i<this.resizeHTimerCount;i++){window.clearTimeout(this.resizeHTimerArray[i]);}}};LyteBox.prototype.getPageScroll=function(){if(self.pageYOffset){return this.isFrame?parent.pageYOffset:self.pageYOffset;}else{if(this.doc.documentElement&&this.doc.documentElement.scrollTop){return this.doc.documentElement.scrollTop;}else{if(document.body){return this.doc.body.scrollTop;}}}};LyteBox.prototype.getPageSize=function(){var _4ab,_4ac,_4ad,_4ae;if(window.innerHeight&&window.scrollMaxY){_4ab=this.doc.scrollWidth;_4ac=(this.isFrame?parent.innerHeight:self.innerHeight)+(this.isFrame?parent.scrollMaxY:self.scrollMaxY);}else{if(this.doc.body.scrollHeight>this.doc.body.offsetHeight){_4ab=this.doc.body.scrollWidth;_4ac=this.doc.body.scrollHeight;}else{_4ab=this.doc.getElementsByTagName("html").item(0).offsetWidth;_4ac=this.doc.getElementsByTagName("html").item(0).offsetHeight;_4ab=(_4ab<this.doc.body.offsetWidth)?this.doc.body.offsetWidth:_4ab;_4ac=(_4ac<this.doc.body.offsetHeight)?this.doc.body.offsetHeight:_4ac;}}if(self.innerHeight){_4ad=(this.isFrame)?parent.innerWidth:self.innerWidth;_4ae=(this.isFrame)?parent.innerHeight:self.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){_4ad=this.doc.documentElement.clientWidth;_4ae=this.doc.documentElement.clientHeight;}else{if(document.body){_4ad=this.doc.getElementsByTagName("html").item(0).clientWidth;_4ae=this.doc.getElementsByTagName("html").item(0).clientHeight;_4ad=(_4ad==0)?this.doc.body.clientWidth:_4ad;_4ae=(_4ae==0)?this.doc.body.clientHeight:_4ae;}}}var _4af=(_4ac<_4ae)?_4ae:_4ac;var _4b0=(_4ab<_4ad)?_4ad:_4ab;return new Array(_4b0,_4af,_4ad,_4ae);};LyteBox.prototype.toggleFlash=function(_4b1){var _4b2=this.doc.getElementsByTagName("object");for(var i=0;i<_4b2.length;i++){_4b2[i].style.visibility=(_4b1=="hide")?"hidden":"visible";}var _4b4=this.doc.getElementsByTagName("embed");for(var i=0;i<_4b4.length;i++){_4b4[i].style.visibility=(_4b1=="hide")?"hidden":"visible";}if(this.isFrame){for(var i=0;i<parent.frames.length;i++){try{_4b2=parent.frames[i].window.document.getElementsByTagName("object");for(var j=0;j<_4b2.length;j++){_4b2[j].style.visibility=(_4b1=="hide")?"hidden":"visible";}}catch(e){}try{_4b4=parent.frames[i].window.document.getElementsByTagName("embed");for(var j=0;j<_4b4.length;j++){_4b4[j].style.visibility=(_4b1=="hide")?"hidden":"visible";}}catch(e){}}}};LyteBox.prototype.toggleSelects=function(_4b6){var _4b7=this.doc.getElementsByTagName("select");for(var i=0;i<_4b7.length;i++){_4b7[i].style.visibility=(_4b6=="hide")?"hidden":"visible";}if(this.isFrame){for(var i=0;i<parent.frames.length;i++){try{_4b7=parent.frames[i].window.document.getElementsByTagName("select");for(var j=0;j<_4b7.length;j++){_4b7[j].style.visibility=(_4b6=="hide")?"hidden":"visible";}}catch(e){}}}};LyteBox.prototype.pause=function(_4ba){var now=new Date();var _4bc=now.getTime()+_4ba;while(true){now=new Date();if(now.getTime()>_4bc){return;}}};if(window.addEventListener){window.addEventListener("load",initLytebox,false);}else{if(window.attachEvent){window.attachEvent("onload",initLytebox);}else{window.onload=function(){initLytebox();};}}function initLytebox(){myLytebox=new LyteBox();};if(typeof Effect=="undefined"){throw ("accordion.js requires including script.aculo.us' effects.js library!");}var accordion=Class.create();accordion.prototype={showAccordion:null,currentAccordion:null,duration:null,effects:[],animating:false,initialize:function(_4bd,_4be){if(!$(_4bd)){throw (_4bd+" doesn't exist!");return false;}this.options=Object.extend({resizeSpeed:8,classNames:{toggle:"accordion_toggle",toggleActive:"accordion_toggle_active",content:"accordion_content"},defaultSize:{height:null,width:null},direction:"vertical",onEvent:"click"},_4be||{});this.duration=((11-this.options.resizeSpeed)*0.15);var _4bf=$$("#"+_4bd+" ."+this.options.classNames.toggle);_4bf.each(function(_4c0){Event.observe(_4c0,this.options.onEvent,this.activate.bind(this,_4c0),false);if(this.options.onEvent=="click"){_4c0.onclick=function(){return false;};}if(this.options.direction=="horizontal"){var _4c1=$H({width:"0px"});}else{var _4c1=$H({height:"0px"});}_4c1.merge({display:"none"});this.currentAccordion=$(_4c0.next(0)).setStyle(_4c1);}.bind(this));},activate:function(_4c2){if(this.animating){return false;}this.effects=[];this.currentAccordion=$(_4c2.next(0));this.currentAccordion.setStyle({display:"block"});this.currentAccordion.previous(0).addClassName(this.options.classNames.toggleActive);if(this.options.direction=="horizontal"){this.scaling=$H({scaleX:true,scaleY:false});}else{this.scaling=$H({scaleX:false,scaleY:true});}if(this.currentAccordion==this.showAccordion){this.deactivate();}else{this._handleAccordion();}},deactivate:function(){var _4c3=$H({duration:this.duration,scaleContent:false,transition:Effect.Transitions.sinoidal,queue:{position:"end",scope:"accordionAnimation"},scaleMode:{originalHeight:this.options.defaultSize.height?this.options.defaultSize.height:this.currentAccordion.scrollHeight,originalWidth:this.options.defaultSize.width?this.options.defaultSize.width:this.currentAccordion.scrollWidth},afterFinish:function(){this.showAccordion.setStyle({height:"auto",display:"none"});this.showAccordion=null;this.animating=false;}.bind(this)});_4c3.merge(this.scaling);this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive);new Effect.Scale(this.showAccordion,0,_4c3);},_handleAccordion:function(){var _4c4=$H({sync:true,scaleFrom:0,scaleContent:false,transition:Effect.Transitions.sinoidal,scaleMode:{originalHeight:this.options.defaultSize.height?this.options.defaultSize.height:this.currentAccordion.scrollHeight,originalWidth:this.options.defaultSize.width?this.options.defaultSize.width:this.currentAccordion.scrollWidth}});_4c4.merge(this.scaling);this.effects.push(new Effect.Scale(this.currentAccordion,100,_4c4));if(this.showAccordion){this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive);_4c4=$H({sync:true,scaleContent:false,transition:Effect.Transitions.sinoidal});_4c4.merge(this.scaling);this.effects.push(new Effect.Scale(this.showAccordion,0,_4c4));}new Effect.Parallel(this.effects,{duration:this.duration,queue:{position:"end",scope:"accordionAnimation"},beforeStart:function(){this.animating=true;}.bind(this),afterFinish:function(){if(this.showAccordion){this.showAccordion.setStyle({display:"none"});}$(this.currentAccordion).setStyle({height:"auto"});this.showAccordion=this.currentAccordion;this.animating=false;}.bind(this)});}};var enablepersist="off";var collapseprevious="no";if(document.getElementById){document.write("<style type=\"text/css\">");document.write(".switchcontent{display:none;}");document.write("</style>");}function getElementbyClass(_4c5){ccollect=new Array();var inc=0;var _4c7=document.all?document.all:document.getElementsByTagName("*");for(i=0;i<_4c7.length;i++){if(_4c7[i].className==_4c5){ccollect[inc++]=_4c7[i];}}};function contractcontent(omit){var inc=0;while(ccollect[inc]){if(ccollect[inc].id!=omit){ccollect[inc].style.display="none";}inc++;}};function expandcontent(cid){if(typeof ccollect!="undefined"){if(collapseprevious=="yes"){contractcontent(cid);}if(document.getElementById(cid).style.display!="block"){document.getElementById("showindicator").innerHTML="&nbsp;&ndash; Hide TOC";document.getElementById(cid).style.display="block";}else{document.getElementById("showindicator").innerHTML="&nbsp;+ Show TOC";document.getElementById(cid).style.display="none";}document.getElementById("commenttext").style.display="none";}};function revivecontent(){contractcontent("omitnothing");selectedItem=getselectedItem();selectedComponents=selectedItem.split("|");for(i=0;i<selectedComponents.length-1;i++){document.getElementById(selectedComponents[i]).style.display="block";}};function get_cookie(Name){var _4cc=Name+"=";var _4cd="";if(document.cookie.length>0){offset=document.cookie.indexOf(_4cc);if(offset!=-1){offset+=_4cc.length;end=document.cookie.indexOf(";",offset);if(end==-1){end=document.cookie.length;}_4cd=unescape(document.cookie.substring(offset,end));}}return _4cd;};function getselectedItem(){if(get_cookie(window.location.pathname)!=""){selectedItem=get_cookie(window.location.pathname);return selectedItem;}else{return "";}};function saveswitchstate(){var inc=0,_4cf="";while(ccollect[inc]){if(ccollect[inc].style.display=="block"){_4cf+=ccollect[inc].id+"|";}inc++;}document.cookie=window.location.pathname+"="+_4cf;};function do_onload(){uniqueidn=window.location.pathname+"firsttimeload";getElementbyClass("switchcontent");if(enablepersist=="on"&&typeof ccollect!="undefined"){document.cookie=(get_cookie(uniqueidn)=="")?uniqueidn+"=1":uniqueidn+"=0";firsttimeload=(get_cookie(uniqueidn)==1)?1:0;if(!firsttimeload){revivecontent();}}};if(window.addEventListener){window.addEventListener("load",do_onload,false);}else{if(window.attachEvent){window.attachEvent("onload",do_onload);}else{if(document.getElementById){window.onload=do_onload;}}}if(enablepersist=="on"&&document.getElementById){window.onunload=saveswitchstate;}